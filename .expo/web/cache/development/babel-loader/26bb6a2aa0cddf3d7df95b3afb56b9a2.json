{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\xx\\\\Desktop\\\\Phytoflex\\\\node_modules\\\\react-native-dropdown-picker\\\\src\\\\components\\\\Picker.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useCallback, useState, useRef, useEffect, useMemo, memo, Fragment } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    WINDOW_HEIGHT = _Dimensions$get.height;\n\nimport Colors from \"../constants/colors\";\nimport { SCHEMA, GET_TRANSLATION, BADGE_COLORS, BADGE_DOT_COLORS, ASCII_CODE, TRANSLATIONS, MODE, LIST_MODE, DROPDOWN_DIRECTION, GET_DROPDOWN_DIRECTION, LANGUAGE, RTL_DIRECTION, RTL_STYLE } from \"../constants\";\nimport THEMES from \"../themes\";\nimport RenderBadgeItem from \"./RenderBadgeItem\";\nimport RenderListItem from \"./RenderListItem\";\nimport ListEmpty from \"./ListEmpty\";\n\nfunction Picker(_ref) {\n  var _this = this;\n\n  var _ref$value = _ref.value,\n      value = _ref$value === void 0 ? null : _ref$value,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      open = _ref.open,\n      _ref$placeholder = _ref.placeholder,\n      placeholder = _ref$placeholder === void 0 ? null : _ref$placeholder,\n      _ref$closeAfterSelect = _ref.closeAfterSelecting,\n      closeAfterSelecting = _ref$closeAfterSelect === void 0 ? true : _ref$closeAfterSelect,\n      _ref$labelProps = _ref.labelProps,\n      labelProps = _ref$labelProps === void 0 ? {} : _ref$labelProps,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$disabledStyle = _ref.disabledStyle,\n      disabledStyle = _ref$disabledStyle === void 0 ? {} : _ref$disabledStyle,\n      _ref$placeholderStyle = _ref.placeholderStyle,\n      placeholderStyle = _ref$placeholderStyle === void 0 ? {} : _ref$placeholderStyle,\n      _ref$containerStyle = _ref.containerStyle,\n      containerStyle = _ref$containerStyle === void 0 ? {} : _ref$containerStyle,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      _ref$textStyle = _ref.textStyle,\n      textStyle = _ref$textStyle === void 0 ? {} : _ref$textStyle,\n      _ref$labelStyle = _ref.labelStyle,\n      labelStyle = _ref$labelStyle === void 0 ? {} : _ref$labelStyle,\n      _ref$arrowIconStyle = _ref.arrowIconStyle,\n      arrowIconStyle = _ref$arrowIconStyle === void 0 ? {} : _ref$arrowIconStyle,\n      _ref$tickIconStyle = _ref.tickIconStyle,\n      tickIconStyle = _ref$tickIconStyle === void 0 ? {} : _ref$tickIconStyle,\n      _ref$closeIconStyle = _ref.closeIconStyle,\n      closeIconStyle = _ref$closeIconStyle === void 0 ? {} : _ref$closeIconStyle,\n      _ref$badgeStyle = _ref.badgeStyle,\n      badgeStyle = _ref$badgeStyle === void 0 ? {} : _ref$badgeStyle,\n      _ref$badgeTextStyle = _ref.badgeTextStyle,\n      badgeTextStyle = _ref$badgeTextStyle === void 0 ? {} : _ref$badgeTextStyle,\n      _ref$badgeDotStyle = _ref.badgeDotStyle,\n      badgeDotStyle = _ref$badgeDotStyle === void 0 ? {} : _ref$badgeDotStyle,\n      _ref$iconContainerSty = _ref.iconContainerStyle,\n      iconContainerStyle = _ref$iconContainerSty === void 0 ? {} : _ref$iconContainerSty,\n      _ref$searchContainerS = _ref.searchContainerStyle,\n      searchContainerStyle = _ref$searchContainerS === void 0 ? {} : _ref$searchContainerS,\n      _ref$searchTextInputS = _ref.searchTextInputStyle,\n      searchTextInputStyle = _ref$searchTextInputS === void 0 ? {} : _ref$searchTextInputS,\n      _ref$searchPlaceholde = _ref.searchPlaceholderTextColor,\n      searchPlaceholderTextColor = _ref$searchPlaceholde === void 0 ? Colors.GREY : _ref$searchPlaceholde,\n      _ref$dropDownContaine = _ref.dropDownContainerStyle,\n      dropDownContainerStyle = _ref$dropDownContaine === void 0 ? {} : _ref$dropDownContaine,\n      _ref$modalContentCont = _ref.modalContentContainerStyle,\n      modalContentContainerStyle = _ref$modalContentCont === void 0 ? {} : _ref$modalContentCont,\n      _ref$arrowIconContain = _ref.arrowIconContainerStyle,\n      arrowIconContainerStyle = _ref$arrowIconContain === void 0 ? {} : _ref$arrowIconContain,\n      _ref$closeIconContain = _ref.closeIconContainerStyle,\n      closeIconContainerStyle = _ref$closeIconContain === void 0 ? {} : _ref$closeIconContain,\n      _ref$tickIconContaine = _ref.tickIconContainerStyle,\n      tickIconContainerStyle = _ref$tickIconContaine === void 0 ? {} : _ref$tickIconContaine,\n      _ref$listItemContaine = _ref.listItemContainerStyle,\n      listItemContainerStyle = _ref$listItemContaine === void 0 ? {} : _ref$listItemContaine,\n      _ref$listItemLabelSty = _ref.listItemLabelStyle,\n      listItemLabelStyle = _ref$listItemLabelSty === void 0 ? {} : _ref$listItemLabelSty,\n      _ref$listChildContain = _ref.listChildContainerStyle,\n      listChildContainerStyle = _ref$listChildContain === void 0 ? {} : _ref$listChildContain,\n      _ref$listChildLabelSt = _ref.listChildLabelStyle,\n      listChildLabelStyle = _ref$listChildLabelSt === void 0 ? {} : _ref$listChildLabelSt,\n      _ref$listParentContai = _ref.listParentContainerStyle,\n      listParentContainerStyle = _ref$listParentContai === void 0 ? {} : _ref$listParentContai,\n      _ref$listParentLabelS = _ref.listParentLabelStyle,\n      listParentLabelStyle = _ref$listParentLabelS === void 0 ? {} : _ref$listParentLabelS,\n      _ref$selectedItemCont = _ref.selectedItemContainerStyle,\n      selectedItemContainerStyle = _ref$selectedItemCont === void 0 ? {} : _ref$selectedItemCont,\n      _ref$selectedItemLabe = _ref.selectedItemLabelStyle,\n      selectedItemLabelStyle = _ref$selectedItemLabe === void 0 ? {} : _ref$selectedItemLabe,\n      _ref$disabledItemCont = _ref.disabledItemContainerStyle,\n      disabledItemContainerStyle = _ref$disabledItemCont === void 0 ? {} : _ref$disabledItemCont,\n      _ref$disabledItemLabe = _ref.disabledItemLabelStyle,\n      disabledItemLabelStyle = _ref$disabledItemLabe === void 0 ? {} : _ref$disabledItemLabe,\n      _ref$customItemContai = _ref.customItemContainerStyle,\n      customItemContainerStyle = _ref$customItemContai === void 0 ? {} : _ref$customItemContai,\n      _ref$customItemLabelS = _ref.customItemLabelStyle,\n      customItemLabelStyle = _ref$customItemLabelS === void 0 ? {} : _ref$customItemLabelS,\n      _ref$listMessageConta = _ref.listMessageContainerStyle,\n      listMessageContainerStyle = _ref$listMessageConta === void 0 ? {} : _ref$listMessageConta,\n      _ref$listMessageTextS = _ref.listMessageTextStyle,\n      listMessageTextStyle = _ref$listMessageTextS === void 0 ? {} : _ref$listMessageTextS,\n      _ref$itemSeparatorSty = _ref.itemSeparatorStyle,\n      itemSeparatorStyle = _ref$itemSeparatorSty === void 0 ? {} : _ref$itemSeparatorSty,\n      _ref$badgeSeparatorSt = _ref.badgeSeparatorStyle,\n      badgeSeparatorStyle = _ref$badgeSeparatorSt === void 0 ? {} : _ref$badgeSeparatorSt,\n      _ref$modalTitleStyle = _ref.modalTitleStyle,\n      modalTitleStyle = _ref$modalTitleStyle === void 0 ? {} : _ref$modalTitleStyle,\n      _ref$listMode = _ref.listMode,\n      listMode = _ref$listMode === void 0 ? LIST_MODE.DEFAULT : _ref$listMode,\n      _ref$categorySelectab = _ref.categorySelectable,\n      categorySelectable = _ref$categorySelectab === void 0 ? true : _ref$categorySelectab,\n      _ref$searchable = _ref.searchable,\n      searchable = _ref$searchable === void 0 ? false : _ref$searchable,\n      _ref$searchPlaceholde2 = _ref.searchPlaceholder,\n      searchPlaceholder = _ref$searchPlaceholde2 === void 0 ? null : _ref$searchPlaceholde2,\n      modalTitle = _ref.modalTitle,\n      _ref$schema = _ref.schema,\n      schema = _ref$schema === void 0 ? {} : _ref$schema,\n      _ref$language = _ref.language,\n      language = _ref$language === void 0 ? LANGUAGE.DEFAULT : _ref$language,\n      _ref$translation = _ref.translation,\n      translation = _ref$translation === void 0 ? {} : _ref$translation,\n      _ref$multiple = _ref.multiple,\n      multiple = _ref$multiple === void 0 ? false : _ref$multiple,\n      _ref$multipleText = _ref.multipleText,\n      multipleText = _ref$multipleText === void 0 ? null : _ref$multipleText,\n      _ref$mode = _ref.mode,\n      mode = _ref$mode === void 0 ? MODE.DEFAULT : _ref$mode,\n      _ref$itemKey = _ref.itemKey,\n      itemKey = _ref$itemKey === void 0 ? null : _ref$itemKey,\n      _ref$maxHeight = _ref.maxHeight,\n      maxHeight = _ref$maxHeight === void 0 ? 200 : _ref$maxHeight,\n      _ref$renderBadgeItem = _ref.renderBadgeItem,\n      renderBadgeItem = _ref$renderBadgeItem === void 0 ? null : _ref$renderBadgeItem,\n      _ref$renderListItem = _ref.renderListItem,\n      renderListItem = _ref$renderListItem === void 0 ? null : _ref$renderListItem,\n      _ref$itemSeparator = _ref.itemSeparator,\n      itemSeparator = _ref$itemSeparator === void 0 ? false : _ref$itemSeparator,\n      _ref$bottomOffset = _ref.bottomOffset,\n      bottomOffset = _ref$bottomOffset === void 0 ? 0 : _ref$bottomOffset,\n      _ref$badgeColors = _ref.badgeColors,\n      badgeColors = _ref$badgeColors === void 0 ? BADGE_COLORS : _ref$badgeColors,\n      _ref$badgeDotColors = _ref.badgeDotColors,\n      badgeDotColors = _ref$badgeDotColors === void 0 ? BADGE_DOT_COLORS : _ref$badgeDotColors,\n      _ref$showArrowIcon = _ref.showArrowIcon,\n      showArrowIcon = _ref$showArrowIcon === void 0 ? true : _ref$showArrowIcon,\n      _ref$showBadgeDot = _ref.showBadgeDot,\n      showBadgeDot = _ref$showBadgeDot === void 0 ? true : _ref$showBadgeDot,\n      _ref$showTickIcon = _ref.showTickIcon,\n      showTickIcon = _ref$showTickIcon === void 0 ? true : _ref$showTickIcon,\n      _ref$stickyHeader = _ref.stickyHeader,\n      stickyHeader = _ref$stickyHeader === void 0 ? false : _ref$stickyHeader,\n      _ref$autoScroll = _ref.autoScroll,\n      autoScroll = _ref$autoScroll === void 0 ? false : _ref$autoScroll,\n      _ref$ArrowUpIconCompo = _ref.ArrowUpIconComponent,\n      ArrowUpIconComponent = _ref$ArrowUpIconCompo === void 0 ? null : _ref$ArrowUpIconCompo,\n      _ref$ArrowDownIconCom = _ref.ArrowDownIconComponent,\n      ArrowDownIconComponent = _ref$ArrowDownIconCom === void 0 ? null : _ref$ArrowDownIconCom,\n      _ref$TickIconComponen = _ref.TickIconComponent,\n      TickIconComponent = _ref$TickIconComponen === void 0 ? null : _ref$TickIconComponen,\n      _ref$CloseIconCompone = _ref.CloseIconComponent,\n      CloseIconComponent = _ref$CloseIconCompone === void 0 ? null : _ref$CloseIconCompone,\n      _ref$ListEmptyCompone = _ref.ListEmptyComponent,\n      ListEmptyComponent = _ref$ListEmptyCompone === void 0 ? null : _ref$ListEmptyCompone,\n      _ref$ActivityIndicato = _ref.ActivityIndicatorComponent,\n      ActivityIndicatorComponent = _ref$ActivityIndicato === void 0 ? null : _ref$ActivityIndicato,\n      _ref$activityIndicato = _ref.activityIndicatorSize,\n      activityIndicatorSize = _ref$activityIndicato === void 0 ? 30 : _ref$activityIndicato,\n      _ref$activityIndicato2 = _ref.activityIndicatorColor,\n      activityIndicatorColor = _ref$activityIndicato2 === void 0 ? Colors.GREY : _ref$activityIndicato2,\n      _ref$props = _ref.props,\n      props = _ref$props === void 0 ? {} : _ref$props,\n      _ref$itemProps = _ref.itemProps,\n      itemProps = _ref$itemProps === void 0 ? {} : _ref$itemProps,\n      _ref$modalProps = _ref.modalProps,\n      modalProps = _ref$modalProps === void 0 ? {} : _ref$modalProps,\n      _ref$flatListProps = _ref.flatListProps,\n      flatListProps = _ref$flatListProps === void 0 ? {} : _ref$flatListProps,\n      _ref$scrollViewProps = _ref.scrollViewProps,\n      scrollViewProps = _ref$scrollViewProps === void 0 ? {} : _ref$scrollViewProps,\n      _ref$searchTextInputP = _ref.searchTextInputProps,\n      searchTextInputProps = _ref$searchTextInputP === void 0 ? {} : _ref$searchTextInputP,\n      _ref$loading = _ref.loading,\n      loading = _ref$loading === void 0 ? false : _ref$loading,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? null : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? null : _ref$max,\n      _ref$addCustomItem = _ref.addCustomItem,\n      addCustomItem = _ref$addCustomItem === void 0 ? false : _ref$addCustomItem,\n      _ref$setOpen = _ref.setOpen,\n      setOpen = _ref$setOpen === void 0 ? function () {} : _ref$setOpen,\n      _ref$setItems = _ref.setItems,\n      setItems = _ref$setItems === void 0 ? function () {} : _ref$setItems,\n      _ref$disableBorderRad = _ref.disableBorderRadius,\n      disableBorderRadius = _ref$disableBorderRad === void 0 ? true : _ref$disableBorderRad,\n      _ref$containerProps = _ref.containerProps,\n      containerProps = _ref$containerProps === void 0 ? {} : _ref$containerProps,\n      _ref$onLayout = _ref.onLayout,\n      onLayout = _ref$onLayout === void 0 ? function (e) {} : _ref$onLayout,\n      _ref$onPress = _ref.onPress,\n      onPress = _ref$onPress === void 0 ? function (open) {} : _ref$onPress,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$setValue = _ref.setValue,\n      setValue = _ref$setValue === void 0 ? function (callback) {} : _ref$setValue,\n      _ref$onChangeValue = _ref.onChangeValue,\n      onChangeValue = _ref$onChangeValue === void 0 ? function (value) {} : _ref$onChangeValue,\n      _ref$onChangeSearchTe = _ref.onChangeSearchText,\n      onChangeSearchText = _ref$onChangeSearchTe === void 0 ? function (text) {} : _ref$onChangeSearchTe,\n      _ref$zIndex = _ref.zIndex,\n      zIndex = _ref$zIndex === void 0 ? 5000 : _ref$zIndex,\n      _ref$zIndexInverse = _ref.zIndexInverse,\n      zIndexInverse = _ref$zIndexInverse === void 0 ? 6000 : _ref$zIndexInverse,\n      _ref$rtl = _ref.rtl,\n      rtl = _ref$rtl === void 0 ? false : _ref$rtl,\n      _ref$dropDownDirectio = _ref.dropDownDirection,\n      dropDownDirection = _ref$dropDownDirectio === void 0 ? DROPDOWN_DIRECTION.DEFAULT : _ref$dropDownDirectio,\n      _ref$disableLocalSear = _ref.disableLocalSearch,\n      disableLocalSearch = _ref$disableLocalSear === void 0 ? false : _ref$disableLocalSear,\n      _ref$theme = _ref.theme,\n      theme = _ref$theme === void 0 ? THEMES.DEFAULT : _ref$theme,\n      testID = _ref.testID,\n      _ref$closeOnBackPress = _ref.closeOnBackPressed,\n      closeOnBackPressed = _ref$closeOnBackPress === void 0 ? false : _ref$closeOnBackPress,\n      _ref$onSelectItem = _ref.onSelectItem,\n      onSelectItem = _ref$onSelectItem === void 0 ? function (item) {} : _ref$onSelectItem;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      necessaryItems = _useState2[0],\n      setNecessaryItems = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchText = _useState4[0],\n      setSearchText = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pickerHeight = _useState6[0],\n      setPickerHeight = _useState6[1];\n\n  var _useState7 = useState(GET_DROPDOWN_DIRECTION(dropDownDirection)),\n      _useState8 = _slicedToArray(_useState7, 2),\n      direction = _useState8[0],\n      setDirection = _useState8[1];\n\n  var badgeFlatListRef = useRef();\n  var pickerRef = useRef(null);\n  var initializationRef = useRef(false);\n  var itemPositionsRef = useRef({});\n  var flatListRef = useRef();\n  var scrollViewRef = useRef();\n  var memoryRef = useRef({\n    value: null,\n    items: []\n  });\n  var THEME = useMemo(function () {\n    return THEMES[theme].default;\n  }, [theme]);\n  var ICON = useMemo(function () {\n    return THEMES[theme].ICONS;\n  }, [theme]);\n\n  var _schema = useMemo(function () {\n    return _objectSpread(_objectSpread({}, SCHEMA), schema);\n  }, [schema]);\n\n  useEffect(function () {\n    memoryRef.current.value = multiple ? Array.isArray(value) ? value : [] : value;\n    var initialSelectedItems = [];\n    var valueNotNull = value !== null && Array.isArray(value) && value.length !== 0;\n\n    if (valueNotNull) {\n      if (multiple) {\n        initialSelectedItems = items.filter(function (item) {\n          return value.includes(item[_schema.value]);\n        });\n      } else {\n        initialSelectedItems = items.find(function (item) {\n          return item[_schema.value] === value;\n        });\n      }\n    }\n\n    setNecessaryItems(initialSelectedItems);\n  }, []);\n  useEffect(function () {\n    if (closeOnBackPressed && open) {\n      var backAction = function backAction() {\n        setOpen(false);\n        return true;\n      };\n\n      var backHandler = BackHandler.addEventListener(\"hardwareBackPress\", backAction);\n      return function () {\n        return backHandler.remove();\n      };\n    }\n  }, [open]);\n  useEffect(function () {\n    setNecessaryItems(function (state) {\n      return _toConsumableArray(state).map(function (item) {\n        var _item = items.find(function (x) {\n          return x[_schema.value] === item[_schema.value];\n        });\n\n        if (_item) {\n          return _objectSpread(_objectSpread({}, item), _item);\n        }\n\n        return item;\n      });\n    });\n  }, [items]);\n  useEffect(function () {\n    if (multiple) {\n      setNecessaryItems(function (state) {\n        if (value === null || Array.isArray(value) && value.length === 0) return [];\n\n        var _state = _toConsumableArray(state).filter(function (item) {\n          return value.includes(item[_schema.value]);\n        });\n\n        var newItems = value.reduce(function (accumulator, currentValue) {\n          var index = _state.findIndex(function (item) {\n            return item[_schema.value] === currentValue;\n          });\n\n          if (index === -1) {\n            var item = items.find(function (item) {\n              return item[_schema.value] === currentValue;\n            });\n\n            if (item) {\n              return [].concat(_toConsumableArray(accumulator), [item]);\n            }\n\n            return accumulator;\n          }\n\n          return accumulator;\n        }, []);\n        return [].concat(_toConsumableArray(_state), _toConsumableArray(newItems));\n      });\n    } else {\n      var state = [];\n\n      if (value !== null) {\n        var item = items.find(function (item) {\n          return item[_schema.value] === value;\n        });\n\n        if (item) {\n          state.push(item);\n        }\n      }\n\n      setNecessaryItems(state);\n    }\n\n    if (initializationRef.current) {\n      onChangeValue(value);\n    } else {\n      initializationRef.current = true;\n    }\n  }, [value, items]);\n  useEffect(function () {\n    memoryRef.current.value = value;\n  }, [value]);\n  useEffect(function () {\n    memoryRef.current.items = necessaryItems;\n  }, [necessaryItems]);\n  useEffect(function () {\n    if (open && autoScroll) {\n      scroll();\n    }\n  }, [open]);\n  useEffect(function () {\n    setDirection(GET_DROPDOWN_DIRECTION(dropDownDirection));\n  }, [dropDownDirection]);\n  useEffect(function () {\n    if (mode === MODE.SIMPLE) badgeFlatListRef.current = null;\n  }, [mode]);\n  var onPressClose = useCallback(function () {\n    setOpen(false);\n    setSearchText('');\n    onClose();\n  }, [setOpen, onClose]);\n  var onPressOpen = useCallback(function () {\n    setOpen(true);\n    onOpen();\n  }, [setOpen, onOpen]);\n  var onPressToggle = useCallback(function () {\n    var isOpen = !open;\n    setOpen(isOpen);\n    setSearchText('');\n    if (isOpen) onOpen();else onClose();\n    return isOpen;\n  }, [open, setOpen, onOpen, onClose]);\n  var sortedItems = useMemo(function () {\n    var sortedItems = items.filter(function (item) {\n      return item[_schema.parent] === undefined || item[_schema.parent] === null;\n    });\n    var children = items.filter(function (item) {\n      return item[_schema.parent] !== undefined && item[_schema.parent] !== null;\n    });\n    children.forEach(function (child) {\n      var index = sortedItems.findIndex(function (item) {\n        return item[_schema.parent] === child[_schema.parent] || item[_schema.value] === child[_schema.parent];\n      });\n\n      if (index > -1) {\n        sortedItems.splice(index + 1, 0, child);\n      }\n    });\n    return sortedItems;\n  }, [items, _schema]);\n  var scroll = useCallback(function () {\n    setTimeout(function () {\n      if (scrollViewRef.current || flatListRef.current) {\n        var isArray = Array.isArray(memoryRef.current.value);\n        if (memoryRef.current.value === null || isArray && memoryRef.current.value.length === 0) return;\n\n        var _value2 = isArray ? memoryRef.current.value[0] : memoryRef.current.value;\n\n        if (scrollViewRef.current && itemPositionsRef.current.hasOwnProperty(_value2)) {\n          var _scrollViewRef$curren;\n\n          (_scrollViewRef$curren = scrollViewRef.current) == null ? void 0 : _scrollViewRef$curren.scrollTo == null ? void 0 : _scrollViewRef$curren.scrollTo({\n            x: 0,\n            y: itemPositionsRef.current[_value2],\n            animated: true\n          });\n        } else {\n          var _flatListRef$current;\n\n          var index = sortedItems.findIndex(function (item) {\n            return item[_schema[\"value\"]] === _value2;\n          });\n          if (index > -1) (_flatListRef$current = flatListRef.current) == null ? void 0 : _flatListRef$current.scrollToIndex == null ? void 0 : _flatListRef$current.scrollToIndex({\n            index: index,\n            animated: true\n          });\n        }\n      }\n    }, 200);\n  }, [sortedItems]);\n  var onScrollToIndexFailed = useCallback(function (_ref2) {\n    var averageItemLength = _ref2.averageItemLength,\n        index = _ref2.index;\n    flatListRef.current.scrollToOffset == null ? void 0 : flatListRef.current.scrollToOffset({\n      offset: averageItemLength * index,\n      animated: true\n    });\n  }, []);\n  var stickyHeaderIndices = useMemo(function () {\n    var stickyHeaderIndices = [];\n\n    if (stickyHeader) {\n      var parents = sortedItems.filter(function (item) {\n        return item[_schema.parent] === undefined || item[_schema.parent] === null;\n      });\n      parents.forEach(function (parent) {\n        var index = sortedItems.findIndex(function (item) {\n          return item[_schema.value] === parent[_schema.value];\n        });\n        if (index > -1) stickyHeaderIndices.push(index);\n      });\n    }\n\n    return stickyHeaderIndices;\n  }, [stickyHeader, sortedItems]);\n\n  var _items = useMemo(function () {\n    if (searchText.length === 0) {\n      return sortedItems;\n    } else {\n      if (disableLocalSearch) return sortedItems;\n      var values = [];\n      var results = sortedItems.filter(function (item) {\n        if (item[_schema.label].toLowerCase().includes(searchText.toLowerCase())) {\n          values.push(item[_schema.value]);\n          return true;\n        }\n\n        return false;\n      });\n      results.forEach(function (item, index) {\n        if (item[_schema.parent] === undefined || item[_schema.parent] === null || values.includes(item[_schema.parent])) return;\n        var parent = sortedItems.find(function (x) {\n          return x[_schema.value] === item[_schema.parent];\n        });\n        values.push(item[_schema.parent]);\n        results.splice(index, 0, parent);\n      });\n\n      if ((results.length === 0 || results.findIndex(function (item) {\n        return item[_schema.label].toLowerCase() === searchText.toLowerCase();\n      }) === -1) && addCustomItem) {\n        var _results$push;\n\n        results.push((_results$push = {}, _defineProperty(_results$push, _schema.label, searchText), _defineProperty(_results$push, _schema.value, searchText.replace(' ', '-')), _defineProperty(_results$push, \"custom\", true), _results$push));\n      }\n\n      return results;\n    }\n  }, [sortedItems, _schema, searchText, addCustomItem]);\n\n  var _value = useMemo(function () {\n    if (multiple) {\n      if (value === null) return [];\n      return _toConsumableArray(new Set(value));\n    }\n\n    return value;\n  }, [value, multiple]);\n\n  var selectedItems = useMemo(function () {\n    if (!multiple) return [];\n    return necessaryItems.filter(function (item) {\n      return _value.includes(item[_schema.value]);\n    });\n  }, [necessaryItems, _value, _schema, multiple]);\n\n  var _language = useMemo(function () {\n    if (TRANSLATIONS.hasOwnProperty(language)) return language;\n    return LANGUAGE.FALLBACK;\n  }, [language]);\n\n  var _ = useCallback(function (key) {\n    return GET_TRANSLATION(key, _language, translation);\n  }, [_language, translation]);\n\n  var _placeholder = useMemo(function () {\n    return placeholder != null ? placeholder : _('PLACEHOLDER');\n  }, [placeholder, _]);\n\n  var _multipleText = useMemo(function () {\n    return multipleText != null ? multipleText : _('SELECTED_ITEMS_COUNT_TEXT');\n  }, [multipleText, _]);\n\n  var _mode = useMemo(function () {\n    try {\n      return mode;\n    } catch (e) {\n      return MODE.SIMPLE;\n    }\n  }, [mode]);\n\n  var isNull = useMemo(function () {\n    if (_value === null || Array.isArray(_value) && _value.length === 0) return true;\n    return necessaryItems.length === 0;\n  }, [necessaryItems, _value]);\n  var getSelectedItem = useCallback(function () {\n    if (multiple) return _value;\n    if (isNull) return null;\n\n    try {\n      return necessaryItems.find(function (item) {\n        return item[_schema.value] === _value;\n      });\n    } catch (e) {\n      return null;\n    }\n  }, [_value, necessaryItems, isNull, multiple]);\n  var getLabel = useCallback(function () {\n    var fallback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var item = getSelectedItem();\n    if (multiple) if (item.length > 0) return _multipleText.replace('{count}', item.length);else return fallback;\n\n    try {\n      return item[_schema.label];\n    } catch (e) {\n      return fallback;\n    }\n  }, [getSelectedItem, multiple, _multipleText, _schema]);\n\n  var _selectedItemLabel = useMemo(function () {\n    return getLabel(_placeholder);\n  }, [getLabel, _placeholder]);\n\n  var _selectedItemIcon = useCallback(function () {\n    if (multiple) return null;\n    var item = getSelectedItem();\n\n    try {\n      var _item$_schema$icon;\n\n      return (_item$_schema$icon = item[_schema.icon]) != null ? _item$_schema$icon : null;\n    } catch (e) {\n      return null;\n    }\n  }, [getSelectedItem, multiple, _schema]);\n\n  var __onPress = useCallback(function _callee() {\n    var isOpen, _await$Promise, _await$Promise2, y, size;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            isOpen = !open;\n            onPress(isOpen);\n\n            if (!(isOpen && dropDownDirection === DROPDOWN_DIRECTION.AUTO)) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(new Promise(function (resolve) {\n              return pickerRef.current.measureInWindow(function () {\n                for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                  args[_key] = arguments[_key];\n                }\n\n                return resolve(args);\n              });\n            }));\n\n          case 5:\n            _await$Promise = _context.sent;\n            _await$Promise2 = _slicedToArray(_await$Promise, 2);\n            y = _await$Promise2[1];\n            size = y + maxHeight + pickerHeight + bottomOffset;\n            setDirection(size < WINDOW_HEIGHT ? 'top' : 'bottom');\n\n          case 10:\n            onPressToggle();\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, [open, onPressToggle, onPress, maxHeight, pickerHeight, bottomOffset, dropDownDirection]);\n\n  var __onLayout = useCallback(function (e) {\n    if (Platform.OS !== \"web\") e.persist();\n    onLayout(e);\n    setPickerHeight(e.nativeEvent.layout.height);\n  }, [onLayout]);\n\n  var pickerNoBorderRadius = useMemo(function () {\n    if (listMode === LIST_MODE.MODAL) return null;\n\n    if (disableBorderRadius && open) {\n      return direction === 'top' ? {\n        borderBottomLeftRadius: 0,\n        borderBottomRightRadius: 0\n      } : {\n        borderTopLeftRadius: 0,\n        borderTopRightRadius: 0\n      };\n    }\n\n    return {};\n  }, [disableBorderRadius, open, direction, listMode]);\n  var dropDownNoBorderRadius = useMemo(function () {\n    if (listMode === LIST_MODE.MODAL) return null;\n\n    if (disableBorderRadius && open) {\n      return direction === 'top' ? {\n        borderTopLeftRadius: 0,\n        borderTopRightRadius: 0\n      } : {\n        borderBottomLeftRadius: 0,\n        borderBottomRightRadius: 0\n      };\n    }\n  }, [disableBorderRadius, open, direction, listMode]);\n\n  var _disabledStyle = useMemo(function () {\n    return disabled && disabledStyle;\n  }, [disabled, disabledStyle]);\n\n  var _zIndex = useMemo(function () {\n    if (open) {\n      return direction === 'top' ? zIndex : zIndexInverse;\n    }\n\n    return zIndex;\n  }, [zIndex, zIndexInverse, direction, open]);\n\n  var _style = useMemo(function () {\n    return [RTL_DIRECTION(rtl, THEME.style), {\n      zIndex: _zIndex\n    }].concat(_toConsumableArray([style].flat()), [pickerNoBorderRadius]);\n  }, [rtl, style, pickerNoBorderRadius, _zIndex, THEME]);\n\n  var _placeholderStyle = useMemo(function () {\n    return isNull && placeholderStyle;\n  }, [isNull, placeholderStyle]);\n\n  var _labelStyle = useMemo(function () {\n    return [THEME.label].concat(_toConsumableArray([textStyle].flat()), _toConsumableArray([!isNull && labelStyle].flat()), _toConsumableArray([_placeholderStyle].flat()));\n  }, [textStyle, _placeholderStyle, labelStyle, isNull, THEME]);\n\n  var _arrowIconStyle = useMemo(function () {\n    return [THEME.arrowIcon].concat(_toConsumableArray([arrowIconStyle].flat()));\n  }, [arrowIconStyle, THEME]);\n\n  var _dropDownContainerStyle = useMemo(function () {\n    var _ref3;\n\n    return [THEME.dropDownContainer, (_ref3 = {}, _defineProperty(_ref3, direction, pickerHeight - 1), _defineProperty(_ref3, \"maxHeight\", maxHeight), _defineProperty(_ref3, \"zIndex\", _zIndex), _ref3)].concat(_toConsumableArray([dropDownContainerStyle].flat()), [dropDownNoBorderRadius]);\n  }, [dropDownContainerStyle, pickerHeight, maxHeight, dropDownNoBorderRadius, direction, _zIndex, THEME]);\n\n  var _modalContentContainerStyle = useMemo(function () {\n    return [THEME.modalContentContainer].concat(_toConsumableArray([modalContentContainerStyle].flat()));\n  }, [modalContentContainerStyle, THEME]);\n\n  var zIndexContainer = useMemo(function () {\n    return Platform.OS !== 'android' && {\n      zIndex: _zIndex\n    };\n  }, [_zIndex]);\n\n  var _containerStyle = useMemo(function () {\n    return [THEME.container, zIndexContainer].concat(_toConsumableArray([containerStyle].flat()), _toConsumableArray([_disabledStyle].flat()));\n  }, [zIndexContainer, containerStyle, _disabledStyle, THEME]);\n\n  var _arrowIconContainerStyle = useMemo(function () {\n    return [RTL_STYLE(rtl, THEME.arrowIconContainer)].concat(_toConsumableArray([arrowIconContainerStyle].flat()));\n  }, [rtl, arrowIconContainerStyle, THEME]);\n\n  var _ArrowComponent = useMemo(function () {\n    if (!showArrowIcon) return null;\n    var Component;\n    if (open && ArrowUpIconComponent !== null) Component = React.createElement(ArrowUpIconComponent, {\n      style: _arrowIconStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 830,\n        columnNumber: 25\n      }\n    });else if (!open && ArrowDownIconComponent !== null) Component = React.createElement(ArrowDownIconComponent, {\n      style: _arrowIconStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 832,\n        columnNumber: 25\n      }\n    });else Component = React.createElement(Image, {\n      source: open ? ICON.ARROW_UP : ICON.ARROW_DOWN,\n      style: _arrowIconStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 834,\n        columnNumber: 25\n      }\n    });\n    return React.createElement(View, {\n      style: _arrowIconContainerStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 837,\n        columnNumber: 13\n      }\n    }, Component);\n  }, [showArrowIcon, open, ArrowUpIconComponent, ArrowDownIconComponent, _arrowIconStyle, _arrowIconContainerStyle, ICON]);\n\n  var _iconContainerStyle = useMemo(function () {\n    return [RTL_STYLE(rtl, THEME.iconContainer)].concat(_toConsumableArray([iconContainerStyle].flat()));\n  }, [rtl, iconContainerStyle, THEME]);\n\n  var SelectedItemIconComponent = useMemo(function () {\n    var Component = _selectedItemIcon();\n\n    return Component !== null && React.createElement(View, {\n      style: _iconContainerStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 868,\n        columnNumber: 13\n      }\n    }, React.createElement(Component, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 869,\n        columnNumber: 17\n      }\n    }));\n  }, [_selectedItemIcon, _iconContainerStyle]);\n  var SimpleBodyComponent = useMemo(function () {\n    return React.createElement(React.Fragment, null, SelectedItemIconComponent, React.createElement(Text, _extends({\n      style: _labelStyle\n    }, labelProps, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 881,\n        columnNumber: 13\n      }\n    }), _selectedItemLabel));\n  }, [SelectedItemIconComponent, _labelStyle, labelProps, _selectedItemLabel]);\n  var onPressBadge = useCallback(function (value) {\n    setValue(function (state) {\n      var _state = _toConsumableArray(state);\n\n      var index = _state.findIndex(function (item) {\n        return item === value;\n      });\n\n      _state.splice(index, 1);\n\n      return _state;\n    });\n  }, [setValue]);\n\n  var _badgeColors = useMemo(function () {\n    if (typeof badgeColors === 'string') return [badgeColors];\n    return badgeColors;\n  }, [badgeColors]);\n\n  var _badgeDotColors = useMemo(function () {\n    if (typeof badgeDotColors === 'string') return [badgeDotColors];\n    return badgeDotColors;\n  }, [badgeDotColors]);\n\n  var getBadgeColor = useCallback(function (str) {\n    str = \"\" + str;\n\n    var index = Math.abs(ASCII_CODE(str)) % _badgeColors.length;\n\n    return _badgeColors[index];\n  }, [_badgeColors]);\n  var getBadgeDotColor = useCallback(function (str) {\n    str = \"\" + str;\n\n    var index = Math.abs(ASCII_CODE(str)) % _badgeDotColors.length;\n\n    return _badgeDotColors[index];\n  }, [_badgeDotColors]);\n  var RenderBadgeComponent = useMemo(function () {\n    return renderBadgeItem !== null ? renderBadgeItem : RenderBadgeItem;\n  }, [renderBadgeItem]);\n\n  var __renderBadge = useCallback(function (_ref4) {\n    var _item$_schema$icon2;\n\n    var item = _ref4.item;\n    return React.createElement(RenderBadgeComponent, {\n      rtl: rtl,\n      label: item[_schema.label],\n      value: item[_schema.value],\n      IconComponent: (_item$_schema$icon2 = item[_schema.icon]) != null ? _item$_schema$icon2 : null,\n      textStyle: textStyle,\n      badgeStyle: badgeStyle,\n      badgeTextStyle: badgeTextStyle,\n      badgeDotStyle: badgeDotStyle,\n      getBadgeColor: getBadgeColor,\n      getBadgeDotColor: getBadgeDotColor,\n      showBadgeDot: showBadgeDot,\n      onPress: onPressBadge,\n      theme: theme,\n      THEME: THEME,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 959,\n        columnNumber: 9\n      }\n    });\n  }, [rtl, _schema, textStyle, badgeStyle, badgeTextStyle, badgeDotStyle, getBadgeColor, getBadgeDotColor, showBadgeDot, onPressBadge, theme, THEME]);\n\n  var _itemKey = useMemo(function () {\n    if (itemKey === null) return _schema.value;\n    return itemKey;\n  }, [itemKey, _schema]);\n\n  var keyExtractor = useCallback(function (item) {\n    return \"\" + item[_itemKey];\n  }, [_itemKey]);\n\n  var _badgeSeparatorStyle = useMemo(function () {\n    return [THEME.badgeSeparator].concat(_toConsumableArray([badgeSeparatorStyle].flat()));\n  }, [badgeSeparatorStyle, THEME]);\n\n  var BadgeSeparatorComponent = useCallback(function () {\n    return React.createElement(View, {\n      style: _badgeSeparatorStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1021,\n        columnNumber: 9\n      }\n    });\n  }, [_badgeSeparatorStyle]);\n  var labelContainer = useMemo(function () {\n    return [THEME.labelContainer, rtl && {\n      transform: [{\n        scaleX: -1\n      }]\n    }];\n  }, [rtl, THEME]);\n  var BadgeListEmptyComponent = useCallback(function () {\n    return React.createElement(View, {\n      style: labelContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1041,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, _extends({\n      style: _labelStyle\n    }, labelProps, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1042,\n        columnNumber: 13\n      }\n    }), _placeholder));\n  }, [_labelStyle, labelContainer, labelProps, _placeholder]);\n  var setBadgeFlatListRef = useCallback(function (ref) {\n    badgeFlatListRef.current = ref;\n  }, []);\n  var BadgeBodyComponent = useMemo(function () {\n    return React.createElement(FlatList, {\n      ref: setBadgeFlatListRef,\n      data: selectedItems,\n      renderItem: __renderBadge,\n      horizontal: true,\n      showsHorizontalScrollIndicator: false,\n      keyExtractor: keyExtractor,\n      ItemSeparatorComponent: BadgeSeparatorComponent,\n      ListEmptyComponent: BadgeListEmptyComponent,\n      style: THEME.listBody,\n      contentContainerStyle: THEME.listBodyContainer,\n      inverted: rtl,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1060,\n        columnNumber: 9\n      }\n    });\n  }, [rtl, selectedItems, __renderBadge, keyExtractor, BadgeSeparatorComponent, BadgeListEmptyComponent, THEME]);\n\n  var _BodyComponent = useMemo(function () {\n    switch (_mode) {\n      case MODE.SIMPLE:\n        return SimpleBodyComponent;\n\n      case MODE.BADGE:\n        return multiple ? BadgeBodyComponent : SimpleBodyComponent;\n\n      default:\n    }\n  }, [_mode, SimpleBodyComponent, BadgeBodyComponent, multiple]);\n\n  var _listItemContainerStyle = useMemo(function () {\n    return [RTL_DIRECTION(rtl, THEME.listItemContainer)].concat(_toConsumableArray([listItemContainerStyle].flat()), [stickyHeader && {\n      backgroundColor: THEME.style.backgroundColor\n    }]);\n  }, [rtl, listItemContainerStyle, THEME]);\n\n  var _tickIconContainerStyle = useMemo(function () {\n    return [RTL_STYLE(rtl, THEME.tickIconContainer)].concat(_toConsumableArray([tickIconContainerStyle].flat()));\n  }, [rtl, tickIconContainerStyle, THEME]);\n\n  var _listItemLabelStyle = useMemo(function () {\n    return [THEME.listItemLabel].concat(_toConsumableArray([textStyle].flat()), _toConsumableArray([listItemLabelStyle].flat()));\n  }, [textStyle, listItemLabelStyle, THEME]);\n\n  var _tickIconStyle = useMemo(function () {\n    return [THEME.tickIcon].concat(_toConsumableArray([tickIconStyle].flat()));\n  }, [tickIconStyle, THEME]);\n\n  var _searchContainerStyle = useMemo(function () {\n    return [RTL_DIRECTION(rtl, THEME.searchContainer)].concat(_toConsumableArray([searchContainerStyle].flat()), [!searchable && !modalTitle && listMode === LIST_MODE.MODAL && {\n      flexDirection: 'row-reverse'\n    }]);\n  }, [rtl, listMode, searchable, modalTitle, searchContainerStyle, THEME]);\n\n  var _searchTextInputStyle = useMemo(function () {\n    return [textStyle, THEME.searchTextInput].concat(_toConsumableArray([searchTextInputStyle].flat()));\n  }, [textStyle, searchTextInputStyle, THEME]);\n\n  var _closeIconContainerStyle = useMemo(function () {\n    return [RTL_STYLE(rtl, THEME.closeIconContainer)].concat(_toConsumableArray([closeIconContainerStyle].flat()));\n  }, [rtl, closeIconContainerStyle, THEME]);\n\n  var _closeIconStyle = useMemo(function () {\n    return [THEME.closeIcon].concat(_toConsumableArray([closeIconStyle].flat()));\n  }, [closeIconStyle, THEME]);\n\n  var _listMessageContainerStyle = useMemo(function () {\n    return [THEME.listMessageContainer].concat(_toConsumableArray([listMessageContainerStyle].flat()));\n  }, [listMessageContainerStyle, THEME]);\n\n  var _listMessageTextStyle = useMemo(function () {\n    return [THEME.listMessageText].concat(_toConsumableArray([textStyle].flat()), _toConsumableArray([listMessageTextStyle].flat()));\n  }, [listMessageTextStyle, THEME]);\n\n  var onPressItem = useCallback(function (item) {\n    var customItem = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (customItem !== false) {\n      item.custom = false;\n      setItems(function (state) {\n        return [].concat(_toConsumableArray(state), [item]);\n      });\n    }\n\n    if (multiple) {\n      if (memoryRef.current.value.includes(item[_schema.value])) {\n        var index = memoryRef.current.items.findIndex(function (x) {\n          return x[_schema.value] === item[_schema.value];\n        });\n\n        if (index > -1) {\n          memoryRef.current.items.splice(index, 1);\n          onSelectItem(memoryRef.current.items.slice());\n        }\n      } else {\n        onSelectItem([].concat(_toConsumableArray(memoryRef.current.items), [item]));\n      }\n    } else {\n      onSelectItem(item);\n    }\n\n    setValue(function (state) {\n      if (multiple) {\n        var _state = state !== null ? _toConsumableArray(state) : [];\n\n        if (_state.includes(item[_schema.value])) {\n          if (Number.isInteger(min) && min >= _state.length) {\n            return state;\n          }\n\n          var _index = _state.findIndex(function (x) {\n            return x === item[_schema.value];\n          });\n\n          _state.splice(_index, 1);\n        } else {\n          if (Number.isInteger(max) && max <= _state.length) {\n            return state;\n          }\n\n          _state.push(item[_schema.value]);\n        }\n\n        return _state;\n      } else {\n        return item[_schema.value];\n      }\n    });\n    setNecessaryItems(function (state) {\n      if (multiple) {\n        var _state = _toConsumableArray(state);\n\n        if (_state.findIndex(function (x) {\n          return x[_schema.value] === item[_schema.value];\n        }) > -1) {\n          if (Number.isInteger(min) && min >= _state.length) {\n            return state;\n          }\n\n          var _index2 = _state.findIndex(function (x) {\n            return x[_schema.value] === item[_schema.value];\n          });\n\n          _state.splice(_index2, 1);\n\n          return _state;\n        } else {\n          if (Number.isInteger(max) && max <= _state.length) {\n            return state;\n          }\n\n          _state.push(item);\n\n          return _state;\n        }\n      } else {\n        return [item];\n      }\n    });\n    if (closeAfterSelecting && !multiple) onPressClose();\n  }, [setValue, multiple, min, max, onPressClose, onSelectItem, closeAfterSelecting, multiple, setItems, _schema]);\n\n  var _TickIconComponent = useCallback(function () {\n    if (!showTickIcon) return null;\n    var Component;\n    if (TickIconComponent !== null) Component = React.createElement(TickIconComponent, {\n      style: _tickIconStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1297,\n        columnNumber: 25\n      }\n    });else Component = React.createElement(Image, {\n      source: ICON.TICK,\n      style: _tickIconStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1299,\n        columnNumber: 25\n      }\n    });\n    return React.createElement(View, {\n      style: _tickIconContainerStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1302,\n        columnNumber: 13\n      }\n    }, Component);\n  }, [TickIconComponent, _tickIconStyle, _tickIconContainerStyle, showTickIcon, ICON]);\n\n  var RenderItemComponent = useMemo(function () {\n    return renderListItem !== null ? renderListItem : RenderListItem;\n  }, [renderListItem]);\n\n  var _selectedItemContainerStyle = useMemo(function () {\n    return [THEME.selectedItemContainer, selectedItemContainerStyle];\n  }, [THEME, selectedItemContainerStyle]);\n\n  var _selectedItemLabelStyle = useMemo(function () {\n    return [THEME.selectedItemLabel, selectedItemLabelStyle];\n  }, [THEME, selectedItemLabelStyle]);\n\n  var _disabledItemContainerStyle = useMemo(function () {\n    return [THEME.disabledItemContainer, disabledItemContainerStyle];\n  }, [THEME, disabledItemContainerStyle]);\n\n  var _disabledItemLabelStyle = useMemo(function () {\n    return [THEME.disabledItemContainer, disabledItemLabelStyle];\n  }, [THEME, disabledItemLabelStyle]);\n\n  var __renderListItem = useCallback(function (_ref5) {\n    var _item$_schema$icon3, _item$_schema$parent, _item$_schema$selecta, _item$_schema$disable, _item$custom, _item$_schema$labelSt, _item$_schema$contain;\n\n    var item = _ref5.item;\n    var IconComponent = (_item$_schema$icon3 = item[_schema.icon]) != null ? _item$_schema$icon3 : null;\n\n    if (IconComponent) {\n      IconComponent = React.createElement(View, {\n        style: _iconContainerStyle,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1361,\n          columnNumber: 17\n        }\n      }, React.createElement(IconComponent, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1362,\n          columnNumber: 21\n        }\n      }));\n    }\n\n    var isSelected;\n\n    if (multiple) {\n      isSelected = _value.includes(item[_schema.value]);\n    } else {\n      isSelected = _value === item[_schema.value];\n    }\n\n    return React.createElement(RenderItemComponent, {\n      rtl: rtl,\n      item: item,\n      label: item[_schema.label],\n      value: item[_schema.value],\n      parent: (_item$_schema$parent = item == null ? void 0 : item[_schema.parent]) != null ? _item$_schema$parent : null,\n      selectable: (_item$_schema$selecta = item == null ? void 0 : item[_schema.selectable]) != null ? _item$_schema$selecta : null,\n      disabled: (_item$_schema$disable = item == null ? void 0 : item[_schema.disabled]) != null ? _item$_schema$disable : false,\n      custom: (_item$custom = item.custom) != null ? _item$custom : false,\n      props: itemProps,\n      isSelected: isSelected,\n      IconComponent: IconComponent,\n      TickIconComponent: _TickIconComponent,\n      listItemContainerStyle: _listItemContainerStyle,\n      listItemLabelStyle: _listItemLabelStyle,\n      listChildContainerStyle: listChildContainerStyle,\n      listChildLabelStyle: listChildLabelStyle,\n      listParentContainerStyle: listParentContainerStyle,\n      listParentLabelStyle: listParentLabelStyle,\n      customItemContainerStyle: customItemContainerStyle,\n      customItemLabelStyle: customItemLabelStyle,\n      selectedItemContainerStyle: _selectedItemContainerStyle,\n      selectedItemLabelStyle: _selectedItemLabelStyle,\n      disabledItemContainerStyle: _disabledItemContainerStyle,\n      disabledItemLabelStyle: _disabledItemLabelStyle,\n      labelStyle: (_item$_schema$labelSt = item == null ? void 0 : item[_schema.labelStyle]) != null ? _item$_schema$labelSt : {},\n      containerStyle: (_item$_schema$contain = item == null ? void 0 : item[_schema.containerStyle]) != null ? _item$_schema$contain : {},\n      categorySelectable: categorySelectable,\n      onPress: onPressItem,\n      setPosition: setItemPosition,\n      theme: theme,\n      THEME: THEME,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1375,\n        columnNumber: 13\n      }\n    });\n  }, [rtl, RenderItemComponent, _listItemLabelStyle, _iconContainerStyle, listChildContainerStyle, listChildLabelStyle, listParentContainerStyle, listParentLabelStyle, _listItemContainerStyle, _listItemLabelStyle, customItemContainerStyle, customItemLabelStyle, _selectedItemContainerStyle, _selectedItemLabelStyle, _disabledItemContainerStyle, _disabledItemLabelStyle, _TickIconComponent, _schema, _value, multiple, itemProps, categorySelectable, onPressItem, theme, THEME]);\n\n  var setItemPosition = useCallback(function (value, y) {\n    if (autoScroll && listMode === LIST_MODE.SCROLLVIEW) itemPositionsRef.current[value] = y;\n  }, []);\n  var ItemSeparatorComponent = useCallback(function () {\n    if (!itemSeparator) return null;\n    return React.createElement(View, {\n      style: [THEME.itemSeparator].concat(_toConsumableArray([itemSeparatorStyle].flat())),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1456,\n        columnNumber: 13\n      }\n    });\n  }, [itemSeparator, itemSeparatorStyle, THEME]);\n\n  var _searchPlaceholder = useMemo(function () {\n    if (searchPlaceholder !== null) return searchPlaceholder;\n    return _('SEARCH_PLACEHOLDER');\n  }, [searchPlaceholder, _]);\n\n  var _onChangeSearchText = useCallback(function (text) {\n    setSearchText(text);\n    onChangeSearchText(text);\n  }, [onChangeSearchText]);\n\n  var _CloseIconComponent = useMemo(function () {\n    if (listMode !== LIST_MODE.MODAL) return null;\n    var Component;\n    if (CloseIconComponent !== null) Component = React.createElement(CloseIconComponent, {\n      style: _closeIconStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1494,\n        columnNumber: 25\n      }\n    });else Component = React.createElement(Image, {\n      source: ICON.CLOSE,\n      style: _closeIconStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1496,\n        columnNumber: 25\n      }\n    });\n    return React.createElement(TouchableOpacity, {\n      style: _closeIconContainerStyle,\n      onPress: onPressClose,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1499,\n        columnNumber: 13\n      }\n    }, Component);\n  }, [listMode, CloseIconComponent, _closeIconStyle, _closeIconContainerStyle, onPressClose, ICON]);\n\n  var isSearchComponentVisible = useMemo(function () {\n    if (listMode === LIST_MODE.MODAL) return true;\n    return searchable;\n  }, [listMode, searchable]);\n\n  var _modalTitleStyle = useMemo(function () {\n    return [THEME.modalTitle].concat(_toConsumableArray([modalTitleStyle].flat()), _toConsumableArray([textStyle].flat()));\n  }, [textStyle, modalTitleStyle, THEME]);\n\n  var SearchComponent = useMemo(function () {\n    return isSearchComponentVisible && React.createElement(View, {\n      style: _searchContainerStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1531,\n        columnNumber: 9\n      }\n    }, searchable ? React.createElement(TextInput, _extends({\n      value: searchText,\n      onChangeText: _onChangeSearchText,\n      style: _searchTextInputStyle,\n      placeholder: _searchPlaceholder,\n      placeholderTextColor: searchPlaceholderTextColor\n    }, searchTextInputProps, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1534,\n        columnNumber: 21\n      }\n    })) : listMode === LIST_MODE.MODAL && React.createElement(View, {\n      style: styles.flex,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1543,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: _modalTitleStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1544,\n        columnNumber: 25\n      }\n    }, modalTitle)), _CloseIconComponent);\n  }, [searchable, listMode, modalTitle, isSearchComponentVisible, _onChangeSearchText, _modalTitleStyle, _searchContainerStyle, _searchTextInputStyle, _searchPlaceholder, searchPlaceholderTextColor, searchText, searchTextInputProps]);\n  var DropDownComponentWrapper = useCallback(function (Component) {\n    return React.createElement(View, {\n      style: _dropDownContainerStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1572,\n        columnNumber: 9\n      }\n    }, SearchComponent, Component);\n  }, [_dropDownContainerStyle, SearchComponent]);\n\n  var _ActivityIndicatorComponent = useCallback(function () {\n    var Component;\n    if (ActivityIndicatorComponent !== null) Component = ActivityIndicatorComponent;else Component = ActivityIndicator;\n    return React.createElement(Component, {\n      size: activityIndicatorSize,\n      color: activityIndicatorColor,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1590,\n        columnNumber: 16\n      }\n    });\n  }, [ActivityIndicatorComponent, activityIndicatorSize, activityIndicatorColor]);\n\n  var _ListEmptyComponent = useCallback(function () {\n    var Component;\n\n    var message = _('NOTHING_TO_SHOW');\n\n    if (ListEmptyComponent !== null) Component = ListEmptyComponent;else Component = ListEmpty;\n    return React.createElement(Component, {\n      listMessageContainerStyle: _listMessageContainerStyle,\n      listMessageTextStyle: _listMessageTextStyle,\n      ActivityIndicatorComponent: _ActivityIndicatorComponent,\n      loading: loading,\n      message: message,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1607,\n        columnNumber: 13\n      }\n    });\n  }, [_, _listMessageContainerStyle, _listMessageTextStyle, ListEmptyComponent, _ActivityIndicatorComponent, loading]);\n\n  var onRequestCloseModal = useCallback(function () {\n    setOpen(false);\n  }, []);\n  var DropDownFlatListComponent = useMemo(function () {\n    return React.createElement(FlatList, _extends({\n      ref: flatListRef,\n      style: styles.flex,\n      contentContainerStyle: THEME.flatListContentContainer,\n      ListEmptyComponent: _ListEmptyComponent,\n      data: _items,\n      renderItem: __renderListItem,\n      keyExtractor: keyExtractor,\n      extraData: _value,\n      ItemSeparatorComponent: ItemSeparatorComponent,\n      stickyHeaderIndices: stickyHeaderIndices,\n      onScrollToIndexFailed: onScrollToIndexFailed\n    }, flatListProps, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1635,\n        columnNumber: 9\n      }\n    }));\n  }, [_items, _value, __renderListItem, keyExtractor, ItemSeparatorComponent, flatListProps, _ListEmptyComponent, THEME]);\n  var DropDownScrollViewComponent = useMemo(function () {\n    return React.createElement(ScrollView, _extends({\n      ref: scrollViewRef,\n      nestedScrollEnabled: true,\n      stickyHeaderIndices: stickyHeaderIndices\n    }, scrollViewProps, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1666,\n        columnNumber: 13\n      }\n    }), _items.map(function (item, index) {\n      return React.createElement(Fragment, {\n        key: item[_itemKey],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1669,\n          columnNumber: 25\n        }\n      }, index > 0 && ItemSeparatorComponent(), __renderListItem({\n        item: item\n      }));\n    }), _items.length === 0 && _ListEmptyComponent());\n  }, [__renderListItem, _itemKey, scrollViewProps, _ListEmptyComponent]);\n  var DropDownModalComponent = useMemo(function () {\n    return React.createElement(Modal, _extends({\n      visible: open,\n      presentationStyle: \"fullScreen\",\n      onRequestClose: onRequestCloseModal\n    }, modalProps, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1685,\n        columnNumber: 9\n      }\n    }), React.createElement(SafeAreaView, {\n      style: _modalContentContainerStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1686,\n        columnNumber: 13\n      }\n    }, SearchComponent, DropDownFlatListComponent));\n  }, [open, SearchComponent, _modalContentContainerStyle, modalProps]);\n  var DropDownComponent = useMemo(function () {\n    switch (listMode) {\n      case LIST_MODE.FLATLIST:\n        return DropDownComponentWrapper(DropDownFlatListComponent);\n\n      case LIST_MODE.SCROLLVIEW:\n        return DropDownComponentWrapper(DropDownScrollViewComponent);\n\n      case LIST_MODE.MODAL:\n        return DropDownModalComponent;\n\n      default:\n    }\n  }, [listMode, DropDownFlatListComponent, DropDownScrollViewComponent, DropDownModalComponent, DropDownComponentWrapper]);\n  var DropDownBodyComponent = useMemo(function () {\n    if (open || listMode === LIST_MODE.MODAL) return DropDownComponent;\n    return null;\n  }, [open, listMode, DropDownComponent]);\n  var onRef = useCallback(function (ref) {\n    pickerRef.current = ref;\n  }, []);\n  var pointerEvents = useMemo(function () {\n    return disabled ? \"none\" : \"auto\";\n  }, [disabled]);\n  return React.createElement(View, _extends({\n    style: _containerStyle\n  }, containerProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1736,\n      columnNumber: 9\n    }\n  }), React.createElement(TouchableOpacity, _extends({\n    style: _style,\n    onPress: __onPress,\n    onLayout: __onLayout\n  }, props, {\n    ref: onRef,\n    pointerEvents: pointerEvents,\n    disabled: disabled,\n    testID: testID,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1737,\n      columnNumber: 13\n    }\n  }), _BodyComponent, _ArrowComponent), DropDownBodyComponent);\n}\n\nvar styles = StyleSheet.create({\n  flex: {\n    flex: 1\n  }\n});\nexport default memo(Picker);","map":{"version":3,"sources":["C:/Users/xx/Desktop/Phytoflex/node_modules/react-native-dropdown-picker/src/components/Picker.js"],"names":["React","useCallback","useState","useRef","useEffect","useMemo","memo","Fragment","Dimensions","get","WINDOW_HEIGHT","height","Colors","SCHEMA","GET_TRANSLATION","BADGE_COLORS","BADGE_DOT_COLORS","ASCII_CODE","TRANSLATIONS","MODE","LIST_MODE","DROPDOWN_DIRECTION","GET_DROPDOWN_DIRECTION","LANGUAGE","RTL_DIRECTION","RTL_STYLE","THEMES","RenderBadgeItem","RenderListItem","ListEmpty","Picker","value","items","open","placeholder","closeAfterSelecting","labelProps","disabled","disabledStyle","placeholderStyle","containerStyle","style","textStyle","labelStyle","arrowIconStyle","tickIconStyle","closeIconStyle","badgeStyle","badgeTextStyle","badgeDotStyle","iconContainerStyle","searchContainerStyle","searchTextInputStyle","searchPlaceholderTextColor","GREY","dropDownContainerStyle","modalContentContainerStyle","arrowIconContainerStyle","closeIconContainerStyle","tickIconContainerStyle","listItemContainerStyle","listItemLabelStyle","listChildContainerStyle","listChildLabelStyle","listParentContainerStyle","listParentLabelStyle","selectedItemContainerStyle","selectedItemLabelStyle","disabledItemContainerStyle","disabledItemLabelStyle","customItemContainerStyle","customItemLabelStyle","listMessageContainerStyle","listMessageTextStyle","itemSeparatorStyle","badgeSeparatorStyle","modalTitleStyle","listMode","DEFAULT","categorySelectable","searchable","searchPlaceholder","modalTitle","schema","language","translation","multiple","multipleText","mode","itemKey","maxHeight","renderBadgeItem","renderListItem","itemSeparator","bottomOffset","badgeColors","badgeDotColors","showArrowIcon","showBadgeDot","showTickIcon","stickyHeader","autoScroll","ArrowUpIconComponent","ArrowDownIconComponent","TickIconComponent","CloseIconComponent","ListEmptyComponent","ActivityIndicatorComponent","activityIndicatorSize","activityIndicatorColor","props","itemProps","modalProps","flatListProps","scrollViewProps","searchTextInputProps","loading","min","max","addCustomItem","setOpen","setItems","disableBorderRadius","containerProps","onLayout","e","onPress","onOpen","onClose","setValue","callback","onChangeValue","onChangeSearchText","text","zIndex","zIndexInverse","rtl","dropDownDirection","disableLocalSearch","theme","testID","closeOnBackPressed","onSelectItem","item","necessaryItems","setNecessaryItems","searchText","setSearchText","pickerHeight","setPickerHeight","direction","setDirection","badgeFlatListRef","pickerRef","initializationRef","itemPositionsRef","flatListRef","scrollViewRef","memoryRef","THEME","default","ICON","ICONS","_schema","current","Array","isArray","initialSelectedItems","valueNotNull","length","filter","includes","find","backAction","backHandler","BackHandler","addEventListener","remove","state","map","_item","x","_state","newItems","reduce","accumulator","currentValue","index","findIndex","push","scroll","SIMPLE","onPressClose","onPressOpen","onPressToggle","isOpen","sortedItems","parent","undefined","children","forEach","child","splice","setTimeout","hasOwnProperty","scrollTo","y","animated","scrollToIndex","onScrollToIndexFailed","averageItemLength","scrollToOffset","offset","stickyHeaderIndices","parents","_items","values","results","label","toLowerCase","replace","_value","Set","selectedItems","_language","FALLBACK","_","key","_placeholder","_multipleText","_mode","isNull","getSelectedItem","getLabel","fallback","_selectedItemLabel","_selectedItemIcon","icon","__onPress","AUTO","Promise","resolve","measureInWindow","args","size","__onLayout","Platform","OS","persist","nativeEvent","layout","pickerNoBorderRadius","MODAL","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","dropDownNoBorderRadius","_disabledStyle","_zIndex","_style","flat","_placeholderStyle","_labelStyle","_arrowIconStyle","arrowIcon","_dropDownContainerStyle","dropDownContainer","_modalContentContainerStyle","modalContentContainer","zIndexContainer","_containerStyle","container","_arrowIconContainerStyle","arrowIconContainer","_ArrowComponent","Component","ARROW_UP","ARROW_DOWN","_iconContainerStyle","iconContainer","SelectedItemIconComponent","SimpleBodyComponent","onPressBadge","_badgeColors","_badgeDotColors","getBadgeColor","str","Math","abs","getBadgeDotColor","RenderBadgeComponent","__renderBadge","_itemKey","keyExtractor","_badgeSeparatorStyle","badgeSeparator","BadgeSeparatorComponent","labelContainer","transform","scaleX","BadgeListEmptyComponent","setBadgeFlatListRef","ref","BadgeBodyComponent","listBody","listBodyContainer","_BodyComponent","BADGE","_listItemContainerStyle","listItemContainer","backgroundColor","_tickIconContainerStyle","tickIconContainer","_listItemLabelStyle","listItemLabel","_tickIconStyle","tickIcon","_searchContainerStyle","searchContainer","flexDirection","_searchTextInputStyle","searchTextInput","_closeIconContainerStyle","closeIconContainer","_closeIconStyle","closeIcon","_listMessageContainerStyle","listMessageContainer","_listMessageTextStyle","listMessageText","onPressItem","customItem","custom","slice","Number","isInteger","_TickIconComponent","TICK","RenderItemComponent","_selectedItemContainerStyle","selectedItemContainer","_selectedItemLabelStyle","selectedItemLabel","_disabledItemContainerStyle","disabledItemContainer","_disabledItemLabelStyle","__renderListItem","IconComponent","isSelected","selectable","setItemPosition","SCROLLVIEW","ItemSeparatorComponent","_searchPlaceholder","_onChangeSearchText","_CloseIconComponent","CLOSE","isSearchComponentVisible","_modalTitleStyle","SearchComponent","styles","flex","DropDownComponentWrapper","_ActivityIndicatorComponent","ActivityIndicator","_ListEmptyComponent","message","onRequestCloseModal","DropDownFlatListComponent","flatListContentContainer","DropDownScrollViewComponent","DropDownModalComponent","DropDownComponent","FLATLIST","DropDownBodyComponent","onRef","pointerEvents","StyleSheet","create"],"mappings":"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","sourcesContent":["import React, {\r\n    useCallback,\r\n    useState,\r\n    useRef,\r\n    useEffect,\r\n    useMemo,\r\n    memo,\r\n    Fragment,\r\n} from 'react';\r\n\r\nimport {\r\n    View,\r\n    SafeAreaView,\r\n    TouchableOpacity,\r\n    Text,\r\n    Image,\r\n    FlatList,\r\n    TextInput,\r\n    Dimensions,\r\n    ScrollView,\r\n    Modal,\r\n    ActivityIndicator,\r\n    BackHandler,\r\n    Platform,\r\n    StyleSheet,\r\n} from 'react-native';\r\n\r\nconst { height: WINDOW_HEIGHT } = Dimensions.get('window');\r\n\r\nimport Colors from '../constants/colors';\r\nimport {\r\n    SCHEMA,\r\n    GET_TRANSLATION,\r\n    BADGE_COLORS,\r\n    BADGE_DOT_COLORS,\r\n    ASCII_CODE,\r\n    TRANSLATIONS,\r\n    MODE,\r\n    LIST_MODE,\r\n    DROPDOWN_DIRECTION,\r\n    GET_DROPDOWN_DIRECTION,\r\n    LANGUAGE,\r\n    RTL_DIRECTION,\r\n    RTL_STYLE\r\n} from '../constants';\r\nimport THEMES from '../themes';\r\nimport RenderBadgeItem from './RenderBadgeItem';\r\nimport RenderListItem from './RenderListItem';\r\nimport ListEmpty from './ListEmpty';\r\n\r\nfunction Picker({\r\n    value = null,\r\n    items = [],\r\n    open,\r\n    placeholder = null,\r\n    closeAfterSelecting = true,\r\n    labelProps = {},\r\n    disabled = false,\r\n    disabledStyle = {},\r\n    placeholderStyle = {},\r\n    containerStyle = {},\r\n    style = {},\r\n    textStyle = {},\r\n    labelStyle = {},\r\n    arrowIconStyle = {},\r\n    tickIconStyle = {},\r\n    closeIconStyle = {},\r\n    badgeStyle = {},\r\n    badgeTextStyle = {},\r\n    badgeDotStyle = {},\r\n    iconContainerStyle = {},\r\n    searchContainerStyle = {},\r\n    searchTextInputStyle = {},\r\n    searchPlaceholderTextColor = Colors.GREY,\r\n    dropDownContainerStyle = {},\r\n    modalContentContainerStyle = {},\r\n    arrowIconContainerStyle = {},\r\n    closeIconContainerStyle = {},\r\n    tickIconContainerStyle = {},\r\n    listItemContainerStyle = {},\r\n    listItemLabelStyle = {},\r\n    listChildContainerStyle = {},\r\n    listChildLabelStyle = {},\r\n    listParentContainerStyle = {},\r\n    listParentLabelStyle = {},\r\n    selectedItemContainerStyle = {},\r\n    selectedItemLabelStyle = {},\r\n    disabledItemContainerStyle = {},\r\n    disabledItemLabelStyle = {},\r\n    customItemContainerStyle = {},\r\n    customItemLabelStyle = {},\r\n    listMessageContainerStyle = {},\r\n    listMessageTextStyle = {},\r\n    itemSeparatorStyle = {},\r\n    badgeSeparatorStyle = {},\r\n    modalTitleStyle = {},\r\n    listMode = LIST_MODE.DEFAULT,\r\n    categorySelectable = true,\r\n    searchable = false,\r\n    searchPlaceholder = null,\r\n    modalTitle,\r\n    schema = {},\r\n    language = LANGUAGE.DEFAULT,\r\n    translation = {},\r\n    multiple = false,\r\n    multipleText = null,\r\n    mode = MODE.DEFAULT,\r\n    itemKey = null,\r\n    maxHeight = 200,\r\n    renderBadgeItem = null,\r\n    renderListItem = null,\r\n    itemSeparator = false,\r\n    bottomOffset = 0,\r\n    badgeColors = BADGE_COLORS,\r\n    badgeDotColors = BADGE_DOT_COLORS,\r\n    showArrowIcon = true,\r\n    showBadgeDot = true,\r\n    showTickIcon = true,\r\n    stickyHeader = false,\r\n    autoScroll = false,\r\n    ArrowUpIconComponent = null,\r\n    ArrowDownIconComponent = null,\r\n    TickIconComponent = null,\r\n    CloseIconComponent = null,\r\n    ListEmptyComponent = null,\r\n    ActivityIndicatorComponent = null,\r\n    activityIndicatorSize = 30,\r\n    activityIndicatorColor = Colors.GREY,\r\n    props = {},\r\n    itemProps = {},\r\n    modalProps = {},\r\n    flatListProps = {},\r\n    scrollViewProps = {},\r\n    searchTextInputProps = {},\r\n    loading = false,\r\n    min = null,\r\n    max = null,\r\n    addCustomItem = false,\r\n    setOpen = () => {},\r\n    setItems = () => {},\r\n    disableBorderRadius = true,\r\n    containerProps = {},\r\n    onLayout = (e) => {},\r\n    onPress = (open) => {},\r\n    onOpen = () => {},\r\n    onClose = () => {},\r\n    setValue = (callback) => {},\r\n    onChangeValue = (value) => {},\r\n    onChangeSearchText = (text) => {},\r\n    zIndex = 5000,\r\n    zIndexInverse = 6000,\r\n    rtl = false,\r\n    dropDownDirection = DROPDOWN_DIRECTION.DEFAULT,\r\n    disableLocalSearch = false,\r\n    theme = THEMES.DEFAULT,\r\n    testID,\r\n    closeOnBackPressed = false,\r\n    onSelectItem = (item) => {}\r\n}) {\r\n    const [necessaryItems, setNecessaryItems] = useState([]);\r\n    const [searchText, setSearchText] = useState('');\r\n    const [pickerHeight, setPickerHeight] = useState(0);\r\n    const [direction, setDirection] = useState(GET_DROPDOWN_DIRECTION(dropDownDirection));\r\n\r\n    const badgeFlatListRef = useRef();\r\n    const pickerRef = useRef(null);\r\n    const initializationRef = useRef(false);\r\n    const itemPositionsRef = useRef({});\r\n    const flatListRef = useRef();\r\n    const scrollViewRef = useRef();\r\n    const memoryRef = useRef({\r\n        value: null,\r\n        items: []\r\n    });\r\n\r\n    const THEME = useMemo(() => THEMES[theme].default, [theme]);\r\n    const ICON = useMemo(() => THEMES[theme].ICONS, [theme])\r\n\r\n    /**\r\n     * The item schema.\r\n     * @returns {object}\r\n     */\r\n     const _schema = useMemo(() => ({...SCHEMA, ...schema}), [schema]);\r\n\r\n    /**\r\n     * componentDidMount.\r\n     */\r\n    useEffect(() => {\r\n        memoryRef.current.value = multiple ? (Array.isArray(value) ? value : []) : value;\r\n\r\n        // Get initial seleted items\r\n        let initialSelectedItems = [];\r\n        const valueNotNull = value !== null && (Array.isArray(value) && value.length !== 0);\r\n\r\n        if (valueNotNull) {\r\n            if (multiple) {\r\n                initialSelectedItems = items.filter(item => value.includes(item[_schema.value]));\r\n            } else {\r\n                initialSelectedItems = items.find(item => item[_schema.value] === value);\r\n            }\r\n        }\r\n\r\n        setNecessaryItems(initialSelectedItems);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (closeOnBackPressed && open) {\r\n            const backAction = () => {\r\n                setOpen(false);\r\n\r\n                return true;\r\n            };\r\n            const backHandler = BackHandler.addEventListener(\r\n                \"hardwareBackPress\",\r\n                backAction\r\n            );\r\n\r\n            return () => backHandler.remove();\r\n        }\r\n    }, [open]);\r\n\r\n    /**\r\n     * Update necessary items.\r\n     */\r\n    useEffect(() => {\r\n        setNecessaryItems(state => {\r\n            return [...state].map(item => {\r\n                const _item = items.find(x => x[_schema.value] === item[_schema.value]);\r\n                \r\n                if (_item) {\r\n                    return {...item, ..._item};\r\n                }\r\n                \r\n                return item;\r\n            });\r\n        });\r\n    }, [items]);\r\n\r\n    /**\r\n     * Sync necessary items.\r\n     */\r\n    useEffect(() => {\r\n        if (multiple) {\r\n            setNecessaryItems(state => {\r\n                if (value === null || (Array.isArray(value) && value.length === 0))\r\n                    return [];\r\n                \r\n                let _state = [...state].filter(item => value.includes(item[_schema.value]));\r\n\r\n                const newItems = value.reduce((accumulator, currentValue) => {\r\n                    const index = _state.findIndex(item => item[_schema.value] === currentValue);\r\n\r\n                    if (index === -1) {\r\n                        const item = items.find(item => item[_schema.value] === currentValue);\r\n                    \r\n                        if (item) {\r\n                            return [...accumulator, item];\r\n                        }\r\n\r\n                        return accumulator;\r\n                    }\r\n\r\n                    return accumulator;\r\n                }, []);\r\n\r\n                return [..._state, ...newItems];\r\n            });\r\n        } else {\r\n            let state = [];\r\n\r\n            if (value !== null) {\r\n                const item = items.find(item => item[_schema.value] === value);\r\n\r\n                if (item) {\r\n                    state.push(item);\r\n                }\r\n            }\r\n            \r\n            setNecessaryItems(state);\r\n        }\r\n\r\n        if (initializationRef.current) {\r\n            onChangeValue(value);\r\n        } else {\r\n            initializationRef.current = true;\r\n        }\r\n    }, [value, items]);\r\n\r\n    /**\r\n     * Update value in the memory.\r\n     */\r\n    useEffect(() => {\r\n        memoryRef.current.value = value;\r\n    }, [value]);\r\n\r\n    /**\r\n     * Update items in the memory.\r\n     */\r\n     useEffect(() => {\r\n        memoryRef.current.items = necessaryItems;\r\n    }, [necessaryItems]);\r\n\r\n    /**\r\n     * Automatically scroll to the first selected item.\r\n     */\r\n    useEffect(() => {\r\n        if (open && autoScroll) {\r\n            scroll();\r\n        }\r\n    }, [open]);\r\n\r\n    /**\r\n     * dropDownDirection changed.\r\n     */\r\n    useEffect(() => {\r\n        setDirection(GET_DROPDOWN_DIRECTION(dropDownDirection));\r\n    }, [dropDownDirection]);\r\n\r\n    /**\r\n     * mode changed.\r\n     */\r\n    useEffect(() => {\r\n        if (mode === MODE.SIMPLE)\r\n            badgeFlatListRef.current = null;\r\n    }, [mode]);\r\n\r\n    /**\r\n     * onPressClose.\r\n     */\r\n    const onPressClose = useCallback(() => {\r\n        setOpen(false);\r\n        setSearchText('');\r\n        onClose();\r\n    }, [setOpen, onClose]);\r\n\r\n    /**\r\n     * onPressClose.\r\n     */\r\n    const onPressOpen = useCallback(() => {\r\n        setOpen(true);\r\n        onOpen();\r\n    }, [setOpen, onOpen]);\r\n\r\n    /**\r\n     * onPressToggle.\r\n     */\r\n    const onPressToggle = useCallback(() => {\r\n        const isOpen = ! open;\r\n\r\n        setOpen(isOpen);\r\n        setSearchText('');\r\n\r\n        if (isOpen)\r\n            onOpen();\r\n        else\r\n            onClose();\r\n\r\n        return isOpen;\r\n    }, [open, setOpen, onOpen, onClose]);\r\n\r\n    /**\r\n     * The sorted items.\r\n     * @returns {object}\r\n     */\r\n    const sortedItems = useMemo(() => {\r\n        const sortedItems = items.filter(item => item[_schema.parent] === undefined || item[_schema.parent] === null);\r\n        const children = items.filter(item => item[_schema.parent] !== undefined && item[_schema.parent] !== null);\r\n\r\n        children.forEach((child) => {\r\n            const index = sortedItems.findIndex(item => item[_schema.parent] === child[_schema.parent] || item[_schema.value] === child[_schema.parent]);\r\n\r\n            if (index > -1) {\r\n                sortedItems.splice(index + 1, 0, child);\r\n            }\r\n        });\r\n\r\n        return sortedItems;\r\n    }, [items, _schema]);\r\n\r\n    /**\r\n     * Scroll the the first selected item.\r\n     */\r\n    const scroll = useCallback(() => {\r\n        setTimeout(() => {\r\n            if ((scrollViewRef.current || flatListRef.current)) {\r\n                const isArray = Array.isArray(memoryRef.current.value);\r\n\r\n                if (memoryRef.current.value === null || (isArray && memoryRef.current.value.length === 0))\r\n                    return;\r\n\r\n                const value = isArray ? memoryRef.current.value[0] : memoryRef.current.value;\r\n\r\n                if (scrollViewRef.current && itemPositionsRef.current.hasOwnProperty(value)) {\r\n                    scrollViewRef.current?.scrollTo?.({\r\n                        x: 0,\r\n                        y: itemPositionsRef.current[value],\r\n                        animated: true,\r\n                    });\r\n                } else {\r\n                    const index = sortedItems.findIndex(item => item[_schema[\"value\"]] === value);\r\n                    \r\n                    if (index > -1)\r\n                        flatListRef.current?.scrollToIndex?.({\r\n                            index,\r\n                            animated: true,\r\n                        });\r\n                }\r\n            }\r\n        }, 200);\r\n    }, [sortedItems]);\r\n\r\n    /**\r\n     * onScrollToIndexFailed.\r\n     */\r\n     const onScrollToIndexFailed = useCallback(({averageItemLength, index}) => {\r\n        flatListRef.current.scrollToOffset?.({\r\n            offset: averageItemLength * index,\r\n            animated: true\r\n        });\r\n    }, []);\r\n\r\n    /**\r\n     * The indices of all parent items.\r\n     * @returns {object}\r\n     */\r\n     const stickyHeaderIndices = useMemo(() => {\r\n        const stickyHeaderIndices = [];\r\n        if (stickyHeader) {\r\n            const parents = sortedItems.filter(item => item[_schema.parent] === undefined || item[_schema.parent] === null);\r\n            parents.forEach((parent) => {\r\n                const index = sortedItems.findIndex(item => item[_schema.value] === parent[_schema.value]);\r\n                if (index > -1) stickyHeaderIndices.push(index);\r\n            })\r\n\r\n        }\r\n        return stickyHeaderIndices;\r\n\r\n    }, [stickyHeader, sortedItems])\r\n\r\n    /**\r\n     * The items.\r\n     * @returns {object}\r\n     */\r\n    const _items = useMemo(() => {\r\n        if (searchText.length === 0) {\r\n            return sortedItems;\r\n        } else {\r\n            if (disableLocalSearch)\r\n                return sortedItems;\r\n    \r\n            const values = [];\r\n            let results = sortedItems.filter(item => {\r\n                if (item[_schema.label].toLowerCase().includes(searchText.toLowerCase())) {\r\n                    values.push(item[_schema.value]);\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n            });\r\n\r\n            results.forEach((item, index) => {\r\n                if (item[_schema.parent] === undefined || item[_schema.parent] === null || values.includes(item[_schema.parent]))\r\n                    return;\r\n\r\n                const parent = sortedItems.find(x => x[_schema.value] === item[_schema.parent]);\r\n                values.push(item[_schema.parent]);\r\n\r\n                results.splice(index, 0, parent);\r\n            });\r\n\r\n            if ((results.length === 0 || results.findIndex(item => item[_schema.label].toLowerCase() === searchText.toLowerCase()) === -1) && addCustomItem) {\r\n                results.push({\r\n                    [_schema.label]: searchText,\r\n                    [_schema.value]: searchText.replace(' ', '-'),\r\n                    custom: true\r\n                });\r\n            }\r\n\r\n            return results;\r\n        }\r\n    }, [sortedItems, _schema, searchText, addCustomItem]);\r\n\r\n    /**\r\n     * The value.\r\n     * @returns {string|object|null}}\r\n     */\r\n    const _value = useMemo(() => {\r\n        if (multiple) {\r\n            if (value === null)\r\n                return [];\r\n\r\n            return [...new Set(value)];\r\n        }\r\n\r\n        return value;\r\n    }, [value, multiple]);\r\n\r\n    /**\r\n     * Selected items only for multiple items.\r\n     * @returns {object}\r\n     */\r\n    const selectedItems = useMemo(() => {\r\n        if (! multiple)\r\n            return [];\r\n\r\n        return necessaryItems.filter(item => _value.includes(item[_schema.value]));\r\n    }, [necessaryItems, _value, _schema, multiple]);\r\n\r\n    /**\r\n     * The language.\r\n     * @returns {string}\r\n     */\r\n    const _language = useMemo(() => {\r\n        if (TRANSLATIONS.hasOwnProperty(language))\r\n            return language;\r\n\r\n        return LANGUAGE.FALLBACK;\r\n    }, [language]);\r\n\r\n    /**\r\n     * Get translation.\r\n     */\r\n    const _ = useCallback((key) => {\r\n        return GET_TRANSLATION(key, _language, translation);\r\n    }, [_language, translation]);\r\n\r\n    /**\r\n     * The placeholder.\r\n     * @returns {string}\r\n     */\r\n    const _placeholder = useMemo(() => placeholder ?? _('PLACEHOLDER'), [placeholder, _]);\r\n\r\n    /**\r\n     * The multiple text.\r\n     * @returns {string}\r\n     */\r\n     const _multipleText = useMemo(() => multipleText ?? _('SELECTED_ITEMS_COUNT_TEXT'), [multipleText, _]);\r\n\r\n    /**\r\n     * The mode.\r\n     * @returns {string}\r\n     */\r\n    const _mode = useMemo(() => {\r\n        try {\r\n            return mode;\r\n        } catch (e) {\r\n            return MODE.SIMPLE;\r\n        }\r\n    }, [mode]);\r\n\r\n    /**\r\n     * Indicates whether the value is null.\r\n     * @returns {boolean}\r\n     */\r\n     const isNull = useMemo(() => {\r\n        if (_value === null || (Array.isArray(_value) && _value.length === 0))\r\n            return true;\r\n\r\n        return necessaryItems.length === 0;\r\n     }, [necessaryItems, _value]);\r\n\r\n    /**\r\n     * Get the selected item.\r\n     * @returns {object}\r\n     */\r\n    const getSelectedItem = useCallback(() => {\r\n        if (multiple)\r\n            return _value;\r\n\r\n        if (isNull)\r\n            return null;\r\n        \r\n        try {\r\n            return necessaryItems.find(item => item[_schema.value] === _value);\r\n        } catch (e) {\r\n            return null;\r\n        }\r\n    }, [_value, necessaryItems, isNull, multiple]);\r\n\r\n    /**\r\n     * Get the label of the selected item.\r\n     * @param {string|null} fallback\r\n     * @returns {string}\r\n     */\r\n    const getLabel = useCallback((fallback = null) => {\r\n        const item = getSelectedItem();\r\n\r\n        if (multiple)\r\n            if (item.length > 0)\r\n                return _multipleText.replace('{count}', item.length);\r\n            else\r\n                return fallback;\r\n\r\n        try {\r\n            return item[_schema.label];\r\n        } catch (e) {\r\n            return fallback;\r\n        }\r\n    }, [getSelectedItem, multiple, _multipleText, _schema]);\r\n\r\n    /**\r\n     * The label of the selected item / placeholder.\r\n     */\r\n    const _selectedItemLabel = useMemo(() => getLabel(_placeholder), [getLabel, _placeholder]);\r\n\r\n    /**\r\n     * The icon of the selected item.\r\n     */\r\n    const _selectedItemIcon = useCallback(() => {\r\n        if (multiple)\r\n            return null;\r\n\r\n        const item = getSelectedItem();\r\n\r\n        try {\r\n            return item[_schema.icon] ?? null;\r\n        } catch (e) {\r\n            return null;\r\n        }\r\n    }, [getSelectedItem, multiple, _schema]);\r\n\r\n\r\n    /**\r\n     * onPress.\r\n     */\r\n    const __onPress = useCallback(async () => {\r\n        const isOpen = ! open;\r\n\r\n        onPress(isOpen);\r\n\r\n        if (isOpen && dropDownDirection === DROPDOWN_DIRECTION.AUTO) {\r\n            const [, y] = await new Promise((resolve) =>\r\n                pickerRef.current.measureInWindow((...args) => resolve(args))\r\n            );\r\n            const size = y + maxHeight + pickerHeight + bottomOffset;\r\n\r\n            setDirection(size < WINDOW_HEIGHT ? 'top' : 'bottom');\r\n        }\r\n\r\n        onPressToggle();\r\n    }, [\r\n        open,\r\n        onPressToggle,\r\n        onPress,\r\n        maxHeight,\r\n        pickerHeight,\r\n        bottomOffset,\r\n        dropDownDirection\r\n    ]);\r\n\r\n    /**\r\n     * onLayout.\r\n     */\r\n    const __onLayout = useCallback((e) => {\r\n        if(Platform.OS !== \"web\")\r\n            e.persist();\r\n\r\n        onLayout(e);\r\n\r\n        setPickerHeight(e.nativeEvent.layout.height);\r\n    }, [onLayout]);\r\n\r\n    /**\r\n     * Disable borderRadius for the picker.\r\n     * @returns {object}\r\n     */\r\n    const pickerNoBorderRadius = useMemo(() => {\r\n        if (listMode === LIST_MODE.MODAL)\r\n            return null;\r\n\r\n        if (disableBorderRadius && open) {\r\n            return direction === 'top' ? {\r\n                borderBottomLeftRadius: 0,\r\n                borderBottomRightRadius: 0,\r\n            } : {\r\n                borderTopLeftRadius: 0,\r\n                borderTopRightRadius: 0,\r\n            };\r\n        }\r\n\r\n        return {};\r\n    }, [disableBorderRadius, open, direction, listMode]);\r\n\r\n    /**\r\n     * Disable borderRadius for the drop down.\r\n     * @returns {object}\r\n     */\r\n     const dropDownNoBorderRadius = useMemo(() => {\r\n        if (listMode === LIST_MODE.MODAL)\r\n            return null;\r\n\r\n        if (disableBorderRadius && open) {\r\n            return direction === 'top' ? {\r\n                borderTopLeftRadius: 0,\r\n                borderTopRightRadius: 0,\r\n            } : {\r\n                borderBottomLeftRadius: 0,\r\n                borderBottomRightRadius: 0,\r\n            };\r\n        }\r\n     }, [disableBorderRadius, open, direction, listMode]);\r\n\r\n    /**\r\n     * The disabled style.\r\n     * @returns {object}\r\n     */\r\n    const _disabledStyle = useMemo(() => disabled && disabledStyle, [disabled, disabledStyle]);\r\n\r\n    /**\r\n     * The zIndex.\r\n     * @returns {number}\r\n     */\r\n    const _zIndex = useMemo(() => {\r\n        if (open) {\r\n            return direction === 'top' ? zIndex : zIndexInverse;\r\n        }\r\n\r\n        return zIndex;\r\n    }, [zIndex, zIndexInverse, direction, open]);\r\n\r\n    /**\r\n     * The style.\r\n     * @returns {object}\r\n     */\r\n    const _style = useMemo(() => ([\r\n        RTL_DIRECTION(rtl, THEME.style), {\r\n            zIndex: _zIndex\r\n        },\r\n        ...[style].flat(),\r\n        pickerNoBorderRadius\r\n    ]), [rtl, style, pickerNoBorderRadius, _zIndex, THEME]);\r\n\r\n    /**\r\n     * The placeholder style.\r\n     * @returns {object}\r\n     */\r\n    const _placeholderStyle = useMemo(() => {\r\n        return isNull && placeholderStyle;\r\n    }, [isNull, placeholderStyle]);\r\n\r\n    /**\r\n     * The style of the label.\r\n     * @returns {object}\r\n     */\r\n    const _labelStyle = useMemo(() => ([\r\n        THEME.label,\r\n        ...[textStyle].flat(),\r\n        ...[! isNull && labelStyle].flat(),\r\n        ...[_placeholderStyle].flat(),\r\n    ]), [textStyle, _placeholderStyle, labelStyle, isNull, THEME]);\r\n\r\n    /**\r\n     * The arrow icon style.\r\n     * @returns {object}\r\n     */\r\n    const _arrowIconStyle = useMemo(() => ([\r\n        THEME.arrowIcon,\r\n        ...[arrowIconStyle].flat()\r\n    ]), [arrowIconStyle, THEME]);\r\n\r\n    /**\r\n     * The dropdown container style.\r\n     * @returns {object}\r\n     */\r\n    const _dropDownContainerStyle = useMemo(() => ([\r\n        THEME.dropDownContainer, {\r\n            [direction]: pickerHeight - 1,\r\n            maxHeight,\r\n            zIndex: _zIndex\r\n        },\r\n        ...[dropDownContainerStyle].flat(),\r\n        dropDownNoBorderRadius\r\n    ]), [\r\n        dropDownContainerStyle,\r\n        pickerHeight,\r\n        maxHeight,\r\n        dropDownNoBorderRadius,\r\n        direction,\r\n        _zIndex,\r\n        THEME\r\n    ]);\r\n\r\n    /**\r\n     * The modal content container style.\r\n     * @returns {object}\r\n     */\r\n     const _modalContentContainerStyle = useMemo(() => ([\r\n        THEME.modalContentContainer,\r\n        ...[modalContentContainerStyle].flat()\r\n    ]), [modalContentContainerStyle, THEME]);\r\n\r\n    /**\r\n     * The zIndex of the container.\r\n     * @returns {object}\r\n     */\r\n    const zIndexContainer = useMemo(() => Platform.OS !== 'android' && {\r\n        zIndex: _zIndex\r\n    }, [_zIndex]);\r\n\r\n    /**\r\n     * The container style.\r\n     * @returns {object}\r\n     */\r\n    const _containerStyle = useMemo(() => ([\r\n        THEME.container,\r\n        zIndexContainer,\r\n        ...[containerStyle].flat(),\r\n        ...[_disabledStyle].flat()\r\n    ]), [zIndexContainer, containerStyle, _disabledStyle, THEME]);\r\n\r\n    /**\r\n     * The arrow icon container style.\r\n     * @returns {object}\r\n     */\r\n    const _arrowIconContainerStyle = useMemo(() => ([\r\n        RTL_STYLE(rtl, THEME.arrowIconContainer),\r\n        ...[arrowIconContainerStyle].flat()\r\n    ]), [rtl, arrowIconContainerStyle, THEME]);\r\n\r\n    /**\r\n     * The arrow component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const _ArrowComponent = useMemo(() => {\r\n        if (! showArrowIcon)\r\n            return null;\r\n\r\n        let Component;\r\n        if (open && ArrowUpIconComponent !== null)\r\n            Component = <ArrowUpIconComponent style={_arrowIconStyle} />;\r\n        else if (! open && ArrowDownIconComponent !== null)\r\n            Component = <ArrowDownIconComponent style={_arrowIconStyle} />;\r\n        else\r\n            Component = <Image source={open ? ICON.ARROW_UP : ICON.ARROW_DOWN} style={_arrowIconStyle} />;\r\n\r\n        return (\r\n            <View style={_arrowIconContainerStyle}>\r\n                {Component}\r\n            </View>\r\n        );\r\n    }, [\r\n        showArrowIcon,\r\n        open,\r\n        ArrowUpIconComponent,\r\n        ArrowDownIconComponent,\r\n        _arrowIconStyle,\r\n        _arrowIconContainerStyle,\r\n        ICON\r\n    ]);\r\n\r\n    /**\r\n     * The icon container style.\r\n     * @returns {object}\r\n     */\r\n     const _iconContainerStyle = useMemo(() => ([\r\n        RTL_STYLE(rtl, THEME.iconContainer),\r\n        ...[iconContainerStyle].flat()\r\n    ]), [rtl, iconContainerStyle, THEME]);\r\n\r\n    /**\r\n     * The selected item icon component.\r\n     * @returns {JSX.Element|null}\r\n     */\r\n     const SelectedItemIconComponent = useMemo(() => {\r\n        const Component = _selectedItemIcon();\r\n\r\n        return Component !== null && (\r\n            <View style={_iconContainerStyle}>\r\n                <Component />\r\n            </View>\r\n        );\r\n     }, [_selectedItemIcon, _iconContainerStyle]);\r\n\r\n    /**\r\n     * The simple body component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const SimpleBodyComponent = useMemo(() => (\r\n        <>\r\n            {SelectedItemIconComponent}\r\n            <Text style={_labelStyle} {...labelProps}>\r\n                {_selectedItemLabel}\r\n            </Text>\r\n        </>\r\n    ), [SelectedItemIconComponent, _labelStyle, labelProps, _selectedItemLabel]);\r\n\r\n    /**\r\n     * onPress badge.\r\n     */\r\n    const onPressBadge = useCallback((value) => {\r\n        setValue(state => {\r\n            let _state = [...state];\r\n            const index = _state.findIndex(item => item === value);\r\n                _state.splice(index, 1);\r\n\r\n            return _state;\r\n        });\r\n    }, [setValue]);\r\n\r\n    /**\r\n     * The badge colors.\r\n     * @returns {object}\r\n     */\r\n    const _badgeColors = useMemo(() => {\r\n        if (typeof badgeColors === 'string')\r\n            return [badgeColors];\r\n\r\n        return badgeColors;\r\n    }, [badgeColors]);\r\n\r\n    /**\r\n     * The badge dot colors.\r\n     * @returns {object}\r\n     */\r\n    const _badgeDotColors = useMemo(() => {\r\n        if (typeof badgeDotColors === 'string')\r\n            return [badgeDotColors];\r\n\r\n        return badgeDotColors;\r\n    }, [badgeDotColors]);\r\n\r\n    /**\r\n     * Get badge color.\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n     const getBadgeColor = useCallback((str) => {\r\n        str = `${str}`;\r\n\r\n        const index = Math.abs(ASCII_CODE(str)) % _badgeColors.length;\r\n        return _badgeColors[index];\r\n    }, [_badgeColors]);\r\n\r\n    /**\r\n     * Get badge dot color.\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n     const getBadgeDotColor = useCallback((str) => {\r\n        str = `${str}`;\r\n\r\n        const index = Math.abs(ASCII_CODE(str)) % _badgeDotColors.length;\r\n        return _badgeDotColors[index];\r\n    }, [_badgeDotColors]);\r\n\r\n    /**\r\n     * The render badge component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const RenderBadgeComponent = useMemo(() => {\r\n        return renderBadgeItem !== null ? renderBadgeItem : RenderBadgeItem;\r\n    }, [renderBadgeItem]);\r\n\r\n    /**\r\n     * Render badge.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const __renderBadge = useCallback(({item}) => (\r\n        <RenderBadgeComponent\r\n            rtl={rtl}\r\n            label={item[_schema.label]}\r\n            value={item[_schema.value]}\r\n            IconComponent={item[_schema.icon] ?? null}\r\n            textStyle={textStyle}\r\n            badgeStyle={badgeStyle}\r\n            badgeTextStyle={badgeTextStyle}\r\n            badgeDotStyle={badgeDotStyle}\r\n            getBadgeColor={getBadgeColor}\r\n            getBadgeDotColor={getBadgeDotColor}\r\n            showBadgeDot={showBadgeDot}\r\n            onPress={onPressBadge}\r\n            theme={theme}\r\n            THEME={THEME}\r\n        />\r\n    ), [\r\n        rtl,\r\n        _schema,\r\n        textStyle,\r\n        badgeStyle,\r\n        badgeTextStyle,\r\n        badgeDotStyle,\r\n        getBadgeColor,\r\n        getBadgeDotColor,\r\n        showBadgeDot,\r\n        onPressBadge,\r\n        theme,\r\n        THEME\r\n    ]);\r\n\r\n    /**\r\n     * The badge key.\r\n     * @returns {string}\r\n     */\r\n    const _itemKey = useMemo(() => {\r\n        if (itemKey === null)\r\n            return _schema.value;\r\n        \r\n        return itemKey;\r\n    }, [itemKey, _schema]);\r\n\r\n    /**\r\n     * The key extractor.\r\n     * @returns {string}\r\n     */\r\n    const keyExtractor = useCallback((item) => `${item[_itemKey]}`, [_itemKey]);\r\n\r\n    /**\r\n     * The badge separator style.\r\n     * @returns {object}\r\n     */\r\n    const _badgeSeparatorStyle = useMemo(() => ([\r\n        THEME.badgeSeparator,\r\n        ...[badgeSeparatorStyle].flat()\r\n    ]), [badgeSeparatorStyle, THEME]);\r\n\r\n    /**\r\n     * The badge separator component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const BadgeSeparatorComponent = useCallback(() => (\r\n        <View style={_badgeSeparatorStyle} />\r\n    ), [_badgeSeparatorStyle]);\r\n\r\n    /**\r\n     * The label container.\r\n     * @returns {object}\r\n     */\r\n    const labelContainer = useMemo(() => ([\r\n        THEME.labelContainer, rtl && {\r\n            transform: [\r\n                {scaleX: -1}\r\n            ]\r\n        }\r\n    ]), [rtl, THEME]);\r\n\r\n    /**\r\n     * Badge list empty component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const BadgeListEmptyComponent = useCallback(() => (\r\n        <View style={labelContainer}>\r\n            <Text style={_labelStyle} {...labelProps}>\r\n                {_placeholder}\r\n            </Text>\r\n        </View>\r\n    ), [_labelStyle, labelContainer, labelProps, _placeholder]);\r\n\r\n    /**\r\n     * Set ref.\r\n     */\r\n    const setBadgeFlatListRef = useCallback((ref) => {\r\n        badgeFlatListRef.current = ref;\r\n    }, []);\r\n\r\n    /**\r\n     * The badge body component.\r\n     * @returns {JSX.Element}\r\n     */\r\n     const BadgeBodyComponent = useMemo(() => (\r\n        <FlatList\r\n            ref={setBadgeFlatListRef}\r\n            data={selectedItems}\r\n            renderItem={__renderBadge}\r\n            horizontal={true}\r\n            showsHorizontalScrollIndicator={false}\r\n            keyExtractor={keyExtractor}\r\n            ItemSeparatorComponent={BadgeSeparatorComponent}\r\n            ListEmptyComponent={BadgeListEmptyComponent}\r\n            style={THEME.listBody}\r\n            contentContainerStyle={THEME.listBodyContainer}\r\n            inverted={rtl}\r\n        />\r\n    ), [\r\n        rtl,\r\n        selectedItems,\r\n        __renderBadge,\r\n        keyExtractor,\r\n        BadgeSeparatorComponent,\r\n        BadgeListEmptyComponent,\r\n        THEME\r\n    ]);\r\n\r\n    /**\r\n     * The body component.\r\n     */\r\n    const _BodyComponent = useMemo(() => {\r\n        switch (_mode) {\r\n            case MODE.SIMPLE: return SimpleBodyComponent;\r\n            case MODE.BADGE: return multiple ? BadgeBodyComponent : SimpleBodyComponent;\r\n            default: //\r\n        }\r\n    }, [_mode, SimpleBodyComponent, BadgeBodyComponent, multiple]);\r\n\r\n    /**\r\n     * The list item container style.\r\n     * @returns {object}\r\n     */\r\n    const _listItemContainerStyle = useMemo(() => ([\r\n        RTL_DIRECTION(rtl, THEME.listItemContainer),\r\n        ...[listItemContainerStyle].flat(),\r\n        stickyHeader && {backgroundColor: THEME.style.backgroundColor},\r\n    ]), [rtl, listItemContainerStyle, THEME]);\r\n\r\n    /**\r\n     * The tick icon container style.\r\n     * @returns {object}\r\n     */\r\n    const _tickIconContainerStyle = useMemo(() => ([\r\n        RTL_STYLE(rtl, THEME.tickIconContainer),\r\n        ...[tickIconContainerStyle].flat()\r\n    ]), [rtl, tickIconContainerStyle,THEME]);\r\n\r\n    /**\r\n     * The list item label style.\r\n     * @returns {object}\r\n     */\r\n    const _listItemLabelStyle = useMemo(() => ([\r\n        THEME.listItemLabel,\r\n        ...[textStyle].flat(),\r\n        ...[listItemLabelStyle].flat()\r\n    ]), [textStyle, listItemLabelStyle, THEME]);\r\n\r\n    /**\r\n     * The tick icon style.\r\n     * @returns {object}\r\n     */\r\n    const _tickIconStyle = useMemo(() => ([\r\n        THEME.tickIcon,\r\n        ...[tickIconStyle].flat()\r\n    ]), [tickIconStyle, THEME]);\r\n\r\n    /**\r\n     * The search container style.\r\n     * @returns {object}\r\n     */\r\n    const _searchContainerStyle = useMemo(() => ([\r\n        RTL_DIRECTION(rtl, THEME.searchContainer),\r\n        ...[searchContainerStyle].flat(), ! searchable && ! modalTitle && listMode === LIST_MODE.MODAL && {\r\n            flexDirection: 'row-reverse'\r\n        }\r\n    ]), [rtl, listMode, searchable, modalTitle, searchContainerStyle, THEME]);\r\n\r\n    /**\r\n     * The search text input style.\r\n     * @returns {object}\r\n     */\r\n    const _searchTextInputStyle = useMemo(() => ([\r\n        textStyle,\r\n        THEME.searchTextInput,\r\n        ...[searchTextInputStyle].flat()\r\n    ]), [textStyle, searchTextInputStyle, THEME]);\r\n\r\n    /**\r\n     * The close icon container style.\r\n     * @returns {object}\r\n     */\r\n    const _closeIconContainerStyle = useMemo(() => ([\r\n        RTL_STYLE(rtl, THEME.closeIconContainer),\r\n        ...[closeIconContainerStyle].flat()\r\n    ]), [rtl, closeIconContainerStyle, THEME]);\r\n\r\n    /**\r\n     * The close icon style.\r\n     * @returns {object}\r\n     */\r\n    const _closeIconStyle = useMemo(() => ([\r\n        THEME.closeIcon,\r\n        ...[closeIconStyle].flat()\r\n    ]), [closeIconStyle, THEME]);\r\n\r\n    /**\r\n     * The list message container style.\r\n     * @returns {objects}\r\n     */\r\n    const _listMessageContainerStyle = useMemo(() => ([\r\n        THEME.listMessageContainer,\r\n        ...[listMessageContainerStyle].flat()\r\n    ]), [listMessageContainerStyle, THEME]);\r\n\r\n    /**\r\n     * The list message text style.\r\n     * @returns {object}\r\n     */\r\n    const _listMessageTextStyle = useMemo(() => ([\r\n        THEME.listMessageText,\r\n        ...[textStyle].flat(),\r\n        ...[listMessageTextStyle].flat()\r\n    ]), [listMessageTextStyle, THEME]);\r\n    \r\n\r\n    /**\r\n     * onPress item.\r\n     */\r\n    const onPressItem = useCallback((item, customItem = false) => {\r\n        if (customItem !== false) {\r\n            item.custom = false;\r\n            setItems(state => [...state, item]);\r\n        }\r\n\r\n        // Not a reliable method for external value changes.\r\n        if (multiple) {\r\n            if (memoryRef.current.value.includes(item[_schema.value])) {\r\n                const index = memoryRef.current.items.findIndex(x => x[_schema.value] === item[_schema.value]);\r\n\r\n                if (index > -1) {\r\n                    memoryRef.current.items.splice(index, 1);\r\n                    onSelectItem(memoryRef.current.items.slice());\r\n                }\r\n            } else {\r\n                onSelectItem([...memoryRef.current.items, item]);\r\n            }\r\n        } else {\r\n            onSelectItem(item);\r\n        }\r\n\r\n        setValue(state => {\r\n            if (multiple) {\r\n                let _state = state !== null ? [...state] : [];\r\n\r\n                if (_state.includes(item[_schema.value])) {\r\n                    // Remove the value\r\n                    if (Number.isInteger(min) && min >= _state.length) {\r\n                        return state;\r\n                    }\r\n\r\n                    const index = _state.findIndex(x => x === item[_schema.value]);\r\n                    _state.splice(index, 1);\r\n                } else {\r\n                    // Add the value\r\n                    if (Number.isInteger(max) && max <= _state.length) {\r\n                        return state;\r\n                    }\r\n\r\n                    _state.push(item[_schema.value]);\r\n                }\r\n\r\n                return _state;\r\n            } else {\r\n                return item[_schema.value];\r\n            }\r\n        });\r\n\r\n        setNecessaryItems(state => {\r\n            if (multiple) {\r\n                const _state = [...state];\r\n\r\n                if (_state.findIndex(x => x[_schema.value] === item[_schema.value]) > -1) {\r\n                    // Remove the item\r\n                    if (Number.isInteger(min) && min >= _state.length) {\r\n                        return state;\r\n                    }\r\n\r\n                    const index = _state.findIndex(x => x[_schema.value] === item[_schema.value]);\r\n                    _state.splice(index, 1);\r\n\r\n                    return _state;\r\n                } else {\r\n                    // Add the item\r\n                    if (Number.isInteger(max) && max <= _state.length) {\r\n                        return state;\r\n                    }\r\n\r\n                    _state.push(item);\r\n\r\n                    return _state;\r\n                }\r\n            } else {\r\n                return [item];\r\n            }\r\n        });\r\n\r\n        if (closeAfterSelecting && ! multiple)\r\n            onPressClose();\r\n    }, [\r\n        setValue,\r\n        multiple,\r\n        min,\r\n        max,\r\n        onPressClose,\r\n        onSelectItem,\r\n        closeAfterSelecting,\r\n        multiple,\r\n        setItems,\r\n        _schema\r\n    ]);\r\n\r\n    /**\r\n     * The tick icon component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const _TickIconComponent = useCallback(() => {\r\n        if (! showTickIcon)\r\n            return null;\r\n\r\n        let Component;\r\n        if (TickIconComponent !== null)\r\n            Component = <TickIconComponent style={_tickIconStyle} />;\r\n        else\r\n            Component = <Image source={ICON.TICK} style={_tickIconStyle} />;\r\n\r\n        return (\r\n            <View style={_tickIconContainerStyle}>\r\n                {Component}\r\n            </View>\r\n        );\r\n    }, [TickIconComponent, _tickIconStyle, _tickIconContainerStyle, showTickIcon, ICON]);\r\n\r\n    /**\r\n     * The renderItem component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const RenderItemComponent = useMemo(() => {\r\n        return renderListItem !== null ? renderListItem : RenderListItem;\r\n    }, [renderListItem]);\r\n\r\n    /**\r\n     * The selected item container style.\r\n     * @returns {object}\r\n     */\r\n    const _selectedItemContainerStyle = useMemo(() => ([\r\n        THEME.selectedItemContainer,\r\n        selectedItemContainerStyle\r\n    ]), [THEME, selectedItemContainerStyle]);\r\n\r\n    /**\r\n     * The selected item label style.\r\n     * @returns {object}\r\n     */\r\n    const _selectedItemLabelStyle = useMemo(() => ([\r\n        THEME.selectedItemLabel,\r\n        selectedItemLabelStyle\r\n    ]), [THEME, selectedItemLabelStyle]);\r\n\r\n    /**\r\n     * The disabled item container style.\r\n     * @returns {object}\r\n     */\r\n    const _disabledItemContainerStyle = useMemo(() => ([\r\n        THEME.disabledItemContainer,\r\n        disabledItemContainerStyle\r\n    ]), [THEME, disabledItemContainerStyle]);\r\n\r\n    /**\r\n     * The disabled item label style.\r\n     * @returns {object}\r\n     */\r\n    const _disabledItemLabelStyle = useMemo(() => ([\r\n        THEME.disabledItemContainer,\r\n        disabledItemLabelStyle\r\n    ]), [THEME, disabledItemLabelStyle]);\r\n\r\n    /**\r\n     * Render list item.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const __renderListItem = useCallback(({item}) => {\r\n        let IconComponent = item[_schema.icon] ?? null;\r\n\r\n        if (IconComponent) {\r\n            IconComponent = (\r\n                <View style={_iconContainerStyle}>\r\n                    <IconComponent />\r\n                </View>\r\n            );\r\n        }\r\n\r\n        let isSelected;\r\n        if (multiple) {\r\n            isSelected = _value.includes(item[_schema.value]);\r\n        } else {\r\n            isSelected = _value === item[_schema.value]\r\n        }\r\n\r\n        return (\r\n            <RenderItemComponent\r\n                rtl={rtl}\r\n                item={item}\r\n                label={item[_schema.label]}\r\n                value={item[_schema.value]}\r\n                parent={item?.[_schema.parent] ?? null}\r\n                selectable={item?.[_schema.selectable] ?? null}\r\n                disabled={item?.[_schema.disabled] ?? false}\r\n                custom={item.custom ?? false}\r\n                props={itemProps}\r\n                isSelected={isSelected}\r\n                IconComponent={IconComponent}\r\n                TickIconComponent={_TickIconComponent}\r\n                listItemContainerStyle={_listItemContainerStyle}\r\n                listItemLabelStyle={_listItemLabelStyle}\r\n                listChildContainerStyle={listChildContainerStyle}\r\n                listChildLabelStyle={listChildLabelStyle}\r\n                listParentContainerStyle={listParentContainerStyle}\r\n                listParentLabelStyle={listParentLabelStyle}\r\n                customItemContainerStyle={customItemContainerStyle}\r\n                customItemLabelStyle={customItemLabelStyle}\r\n                selectedItemContainerStyle={_selectedItemContainerStyle}\r\n                selectedItemLabelStyle={_selectedItemLabelStyle}\r\n                disabledItemContainerStyle={_disabledItemContainerStyle}\r\n                disabledItemLabelStyle={_disabledItemLabelStyle}\r\n                labelStyle={item?.[_schema.labelStyle] ?? {}}\r\n                containerStyle={item?.[_schema.containerStyle] ?? {}}\r\n                categorySelectable={categorySelectable}\r\n                onPress={onPressItem}\r\n                setPosition={setItemPosition}\r\n                theme={theme}\r\n                THEME={THEME}\r\n            />\r\n        );\r\n    }, [\r\n        rtl,\r\n        RenderItemComponent,\r\n        _listItemLabelStyle,\r\n        _iconContainerStyle,\r\n        listChildContainerStyle,\r\n        listChildLabelStyle,\r\n        listParentContainerStyle,\r\n        listParentLabelStyle,\r\n        _listItemContainerStyle,\r\n        _listItemLabelStyle,\r\n        customItemContainerStyle,\r\n        customItemLabelStyle,\r\n        _selectedItemContainerStyle,\r\n        _selectedItemLabelStyle,\r\n        _disabledItemContainerStyle,\r\n        _disabledItemLabelStyle,\r\n        _TickIconComponent,\r\n        _schema,\r\n        _value,\r\n        multiple,\r\n        itemProps,\r\n        categorySelectable,\r\n        onPressItem,\r\n        theme,\r\n        THEME\r\n    ]);\r\n\r\n    /**\r\n     * Set item position.\r\n     * @param {string|number|boolean} value\r\n     * @param {number} y\r\n     */\r\n    const setItemPosition = useCallback((value, y) => {\r\n        if (autoScroll && listMode === LIST_MODE.SCROLLVIEW)\r\n            itemPositionsRef.current[value] = y;\r\n    }, []);\r\n\r\n    /**\r\n     * The item separator.\r\n     * @returns {JSX.Element|null}\r\n     */\r\n    const ItemSeparatorComponent = useCallback(() => {\r\n        if (! itemSeparator)\r\n            return null;\r\n\r\n        return (\r\n            <View style={[\r\n                THEME.itemSeparator,\r\n                ...[itemSeparatorStyle].flat()\r\n            ]} />\r\n        );\r\n    }, [itemSeparator, itemSeparatorStyle, THEME]);\r\n\r\n    /**\r\n     * The search placeholder.\r\n     * @returns {string}\r\n     */\r\n     const _searchPlaceholder = useMemo(() => {\r\n        if (searchPlaceholder !== null)\r\n            return searchPlaceholder;\r\n\r\n        return _('SEARCH_PLACEHOLDER');\r\n    }, [searchPlaceholder, _]);\r\n\r\n    /**\r\n     * onChangeSearchText.\r\n     * @param {string} text\r\n     */\r\n    const _onChangeSearchText = useCallback((text) => {\r\n        setSearchText(text);\r\n        onChangeSearchText(text);\r\n    }, [onChangeSearchText]);\r\n\r\n    /**\r\n     * The close icon component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const _CloseIconComponent = useMemo(() => {\r\n        if (listMode !== LIST_MODE.MODAL)\r\n            return null;\r\n\r\n        let Component;\r\n\r\n        if (CloseIconComponent !== null)\r\n            Component = <CloseIconComponent style={_closeIconStyle} />;\r\n        else\r\n            Component = <Image source={ICON.CLOSE} style={_closeIconStyle} />;\r\n\r\n        return (\r\n            <TouchableOpacity style={_closeIconContainerStyle} onPress={onPressClose}>\r\n                {Component}\r\n            </TouchableOpacity>\r\n        );\r\n    }, [listMode, CloseIconComponent, _closeIconStyle, _closeIconContainerStyle, onPressClose, ICON]);\r\n\r\n    /**\r\n     * Indicates if the search component is visible.\r\n     * @returns {boolean}\r\n     */\r\n    const isSearchComponentVisible = useMemo(() => {\r\n        if (listMode === LIST_MODE.MODAL)\r\n            return true;\r\n\r\n        return searchable;\r\n    }, [listMode, searchable]);\r\n\r\n    /**\r\n     * modalTitleStyle.\r\n     * @returns {object}\r\n     */\r\n     const _modalTitleStyle = useMemo(() => ([\r\n        THEME.modalTitle,\r\n        ...[modalTitleStyle].flat(),\r\n        ...[textStyle].flat(),\r\n    ]), [textStyle, modalTitleStyle, THEME]);\r\n\r\n    /**\r\n     * The search component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const SearchComponent = useMemo(() => isSearchComponentVisible && (\r\n        <View style={_searchContainerStyle}>\r\n            {\r\n                searchable ? (\r\n                    <TextInput\r\n                        value={searchText}\r\n                        onChangeText={_onChangeSearchText}\r\n                        style={_searchTextInputStyle}\r\n                        placeholder={_searchPlaceholder}\r\n                        placeholderTextColor={searchPlaceholderTextColor}\r\n                        {...searchTextInputProps}\r\n                    />\r\n                ) : listMode === LIST_MODE.MODAL && (\r\n                    <View style={styles.flex}>\r\n                        <Text style={_modalTitleStyle}>\r\n                            {modalTitle}\r\n                        </Text>\r\n                    </View>\r\n                )\r\n            }\r\n            {_CloseIconComponent}\r\n        </View>\r\n    ), [\r\n        searchable,\r\n        listMode,\r\n        modalTitle,\r\n        isSearchComponentVisible,\r\n        _onChangeSearchText,\r\n        _modalTitleStyle,\r\n        _searchContainerStyle,\r\n        _searchTextInputStyle,\r\n        _searchPlaceholder,\r\n        searchPlaceholderTextColor,\r\n        searchText,\r\n        searchTextInputProps\r\n    ]);\r\n\r\n    /**\r\n     * The dropdown component wrapper.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const DropDownComponentWrapper = useCallback((Component) => (\r\n        <View style={_dropDownContainerStyle}>\r\n            {SearchComponent}\r\n            {Component}\r\n        </View>\r\n    ), [_dropDownContainerStyle, SearchComponent]);\r\n\r\n    /**\r\n     * The ActivityIndicatorComponent.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const _ActivityIndicatorComponent = useCallback(() => {\r\n        let Component;\r\n\r\n        if (ActivityIndicatorComponent !== null)\r\n            Component = ActivityIndicatorComponent;\r\n        else\r\n            Component = ActivityIndicator\r\n\r\n        return <Component size={activityIndicatorSize} color={activityIndicatorColor} />\r\n    }, [ActivityIndicatorComponent, activityIndicatorSize, activityIndicatorColor]);\r\n\r\n    /**\r\n     * The ListEmptyComponent.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const _ListEmptyComponent = useCallback(() => {\r\n        let Component;\r\n        const message = _('NOTHING_TO_SHOW');\r\n\r\n        if (ListEmptyComponent !== null)\r\n            Component = ListEmptyComponent;\r\n        else\r\n            Component = ListEmpty;\r\n\r\n        return (\r\n            <Component\r\n                listMessageContainerStyle={_listMessageContainerStyle}\r\n                listMessageTextStyle={_listMessageTextStyle}\r\n                ActivityIndicatorComponent={_ActivityIndicatorComponent}\r\n                loading={loading}\r\n                message={message} />\r\n        );\r\n    }, [\r\n        _,\r\n        _listMessageContainerStyle,\r\n        _listMessageTextStyle,\r\n        ListEmptyComponent,\r\n        _ActivityIndicatorComponent,\r\n        loading\r\n    ]);\r\n\r\n    /**\r\n     * onRequestCloseModal.\r\n     */\r\n    const onRequestCloseModal = useCallback(() => {\r\n        setOpen(false);\r\n    }, []);\r\n    \r\n    /**\r\n     * The dropdown flatlist component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const DropDownFlatListComponent = useMemo(() => (\r\n        <FlatList\r\n            ref={flatListRef}\r\n            style={styles.flex}\r\n            contentContainerStyle={THEME.flatListContentContainer}\r\n            ListEmptyComponent={_ListEmptyComponent}\r\n            data={_items}\r\n            renderItem={__renderListItem}\r\n            keyExtractor={keyExtractor}\r\n            extraData={_value}\r\n            ItemSeparatorComponent={ItemSeparatorComponent}\r\n            stickyHeaderIndices={stickyHeaderIndices}\r\n            onScrollToIndexFailed={onScrollToIndexFailed}\r\n            {...flatListProps}\r\n        />\r\n    ), [\r\n        _items,\r\n        _value,\r\n        __renderListItem,\r\n        keyExtractor,\r\n        ItemSeparatorComponent,\r\n        flatListProps,\r\n        _ListEmptyComponent,\r\n        THEME\r\n    ]);\r\n\r\n    /**\r\n     * The dropdown scrollview component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const DropDownScrollViewComponent = useMemo(() => {\r\n        return (\r\n            <ScrollView ref={scrollViewRef} nestedScrollEnabled={true} stickyHeaderIndices={stickyHeaderIndices} {...scrollViewProps}>\r\n                {_items.map((item, index) => { \r\n                    return (\r\n                        <Fragment key={item[_itemKey]}>\r\n                            {index > 0 && ItemSeparatorComponent()}\r\n                            {__renderListItem({item})}\r\n                        </Fragment>\r\n                    );\r\n                })}\r\n                {_items.length === 0 && _ListEmptyComponent()}\r\n            </ScrollView>\r\n        );\r\n    }, [__renderListItem, _itemKey, scrollViewProps, _ListEmptyComponent]);\r\n\r\n    /**\r\n     * The dropdown modal component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const DropDownModalComponent = useMemo(() => (\r\n        <Modal visible={open} presentationStyle=\"fullScreen\" onRequestClose={onRequestCloseModal} {...modalProps}>\r\n            <SafeAreaView style={_modalContentContainerStyle}>\r\n                {SearchComponent}\r\n                {DropDownFlatListComponent}\r\n            </SafeAreaView>\r\n        </Modal>\r\n    ), [open, SearchComponent, _modalContentContainerStyle, modalProps]);\r\n\r\n    /**\r\n     * The dropdown component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const DropDownComponent = useMemo(() => {\r\n        switch (listMode) {\r\n            case LIST_MODE.FLATLIST: return DropDownComponentWrapper(DropDownFlatListComponent);\r\n            case LIST_MODE.SCROLLVIEW: return DropDownComponentWrapper(DropDownScrollViewComponent);\r\n            case LIST_MODE.MODAL: return DropDownModalComponent;\r\n            default: //\r\n        }\r\n    }, [\r\n        listMode,\r\n        DropDownFlatListComponent,\r\n        DropDownScrollViewComponent,\r\n        DropDownModalComponent,\r\n        DropDownComponentWrapper\r\n    ]);\r\n\r\n    /**\r\n     * The body of the dropdown component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    const DropDownBodyComponent = useMemo(() => {\r\n        if (open || listMode === LIST_MODE.MODAL)\r\n            return DropDownComponent;\r\n        return null;\r\n    }, [open, listMode, DropDownComponent]);\r\n\r\n    /**\r\n     * onRef.\r\n     */\r\n    const onRef = useCallback((ref) => {\r\n        pickerRef.current = ref\r\n    }, []);\r\n\r\n    /**\r\n     * Pointer events.\r\n     * @returns {string}\r\n     */\r\n    const pointerEvents = useMemo(() => disabled ? \"none\" : \"auto\", [disabled]);\r\n\r\n    return (\r\n        <View style={_containerStyle} {...containerProps}>\r\n            <TouchableOpacity style={_style} onPress={__onPress} onLayout={__onLayout} {...props} ref={onRef} pointerEvents={pointerEvents} disabled={disabled} testID={testID}>\r\n                {_BodyComponent}\r\n                {_ArrowComponent}\r\n            </TouchableOpacity>\r\n            {DropDownBodyComponent}\r\n        </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    flex: {\r\n        flex: 1\r\n    }\r\n});\r\n\r\nexport default memo(Picker);\r\n"]},"metadata":{},"sourceType":"module"}